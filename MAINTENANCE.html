<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üîß FenixLaboratory - Mantenimiento</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Courier New', monospace;
      background: #000000;
      color: #00ff00;
      min-height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .countdown {
      position: absolute;
      top: -200px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 2rem;
      animation: slideDown 2s ease-out 1s forwards;
    }
    .time-unit {
      background: rgba(0, 255, 0, 0.1);
      border: 2px solid #00ff00;
      border-radius: 12px;
      padding: 1.5rem;
      min-width: 80px;
      text-align: center;
      box-shadow: 0 0 20px #00ff00;
    }
    .time-unit span {
      display: block;
      font-size: 2.5rem;
      font-weight: bold;
      color: #00ff00;
      text-shadow: 0 0 15px #00ff00;
    }
    .time-unit label {
      font-size: 1rem;
      color: #00ff00;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    .maintenance-text {
      font-size: 4rem;
      font-weight: bold;
      text-align: center;
      letter-spacing: 8px;
    }
    .letter {
      display: inline-block;
      opacity: 0;
      color: #333;
      text-shadow: none;
    }
    .letter.lit {
      opacity: 1;
      color: #00ff00;
      text-shadow: 0 0 30px #00ff00, 0 0 40px #00ff00, 0 0 50px #00ff00;
      animation: letterFlicker 0.3s ease-in;
    }
    @keyframes slideDown {
      0% { top: -200px; opacity: 0; }
      100% { top: 20%; opacity: 1; }
    }
    @keyframes letterFlicker {
      0%, 50% { opacity: 0; }
      100% { opacity: 1; }
    }
    .collapse {
      animation: pageCollapse 5s ease-in forwards;
    }
    @keyframes pageCollapse {
      0% { transform: scale(1) rotate(0deg); filter: brightness(1); }
      25% { transform: scale(0.9) rotate(-2deg); filter: brightness(0.8); }
      50% { transform: scale(0.7) rotate(5deg); filter: brightness(0.5) blur(2px); }
      75% { transform: scale(0.4) rotate(-10deg); filter: brightness(0.2) blur(5px); }
      100% { transform: scale(0) rotate(180deg); filter: brightness(0) blur(10px); opacity: 0; }
    }
    .help-message {
      position: absolute;
      color: #ff0000;
      font-size: 1.5rem;
      font-weight: bold;
      text-shadow: 0 0 20px #ff0000;
      opacity: 0;
      animation: helpFlash 2s ease-in-out;
      pointer-events: none;
    }
    @keyframes helpFlash {
      0%, 100% { opacity: 0; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    .undertale-textbox {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 600px;
      background: #000;
      border: 3px solid #fff;
      padding: 20px;
      font-family: 'Courier New', monospace;
      font-size: 18px;
      color: #fff;
      display: none;
      z-index: 1000;
    }
    .continue-arrow {
      position: absolute;
      bottom: 10px;
      right: 15px;
      color: #ff6b35;
      font-size: 20px;
      display: none;
      animation: arrowBlink 1s infinite;
    }
    @keyframes arrowBlink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    @keyframes glitch {
      0% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
      100% { transform: translate(0); }
    }

  </style>
</head>
<body>
  <div class="countdown">
    <div class="time-unit">
      <span id="days">0</span>
      <label>D√≠as</label>
    </div>
    <div class="time-unit">
      <span id="hours">0</span>
      <label>Horas</label>
    </div>
    <div class="time-unit">
      <span id="minutes">0</span>
      <label>Minutos</label>
    </div>
    <div class="time-unit">
      <span id="seconds">0</span>
      <label>Segundos</label>
    </div>
  </div>
  <div class="maintenance-text" id="maintenance-text"></div>
  <img src="mantenimiento/just a chest maybe.png" alt="Chest" id="chest" style="position: absolute; bottom: 20%; left: 50%; transform: translateX(-50%); width: 150px; opacity: 0.8; cursor: pointer;">
  <div class="undertale-textbox" id="textbox">
    <div id="textbox-content">* Encontraste un cofre misterioso...</div>
    <div class="continue-arrow" id="continue-arrow">‚ñ∂</div>
  </div>
  <audio id="bgMusic" loop>
    <source src="mantenimiento/song1.mp3" type="audio/mpeg">
  </audio>
  <script>
    const endTime = new Date('2025-12-13T22:00:00').getTime();
    
    function updateCountdown() {
      const now = new Date().getTime();
      const timeLeft = endTime - now;
      
      if (timeLeft > 0) {
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
        
        document.getElementById('days').textContent = days;
        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
        document.getElementById('seconds').textContent = seconds;
      } else {
        window.location.href = 'index.html';
      }
    }
    
    setInterval(updateCountdown, 1000);
    updateCountdown();
    
    // Light up letters one by one
    const text = 'MANTENIMIENTO';
    const container = document.getElementById('maintenance-text');
    
    // Create letter spans
    text.split('').forEach(char => {
      const span = document.createElement('span');
      span.className = 'letter';
      span.textContent = char === ' ' ? '\u00A0' : char;
      container.appendChild(span);
    });
    
    // Light up letters with delay
    const letters = document.querySelectorAll('.letter');
    letters.forEach((letter, index) => {
      setTimeout(() => {
        letter.classList.add('lit');
      }, 3000 + (index * 200));
    });
    
    // Help messages
    const helpMessages = [
      'CONEXI√ìN INESTABLE...',
      'SERVIDORES SOBRECARGADOS',
      'BASE DE DATOS CORRUPTA',
      'MEMORIA INSUFICIENTE',
      'FIREWALL COMPROMETIDO',
      'BACKUP FALLIDO',
      'RED DESCONECTADA',
      'DISCO DURO FRAGMENTADO',
      'TEMPERATURA CR√çTICA',
      'ACTUALIZACI√ìN INTERRUMPIDA'
    ];
    
    function showHelpMessage() {
      const message = document.createElement('div');
      message.className = 'help-message';
      message.textContent = helpMessages[Math.floor(Math.random() * helpMessages.length)];
      message.style.left = Math.random() * 80 + 10 + '%';
      message.style.top = Math.random() * 80 + 10 + '%';
      document.body.appendChild(message);
      
      setTimeout(() => {
        message.remove();
      }, 2000);
    }
    
    // Start showing messages after 10 seconds
    setTimeout(() => {
      setInterval(showHelpMessage, 3000);
    }, 10000);
    
    // Show chest after letters finish
    setTimeout(() => {
      document.querySelector('img').style.opacity = '1';
    }, 6000);
    
    // Background music
    const songs = ['mantenimiento/song1.mp3', 'mantenimiento/song2.mp3'];
    let currentSong = 0;
    const bgMusic = document.getElementById('bgMusic');
    
    // Start music after user interaction
    document.addEventListener('click', () => {
      if (bgMusic.paused) {
        bgMusic.volume = 0.3;
        bgMusic.play().catch(() => {});
      }
    }, { once: true });
    
    // Switch songs when current ends
    bgMusic.addEventListener('ended', () => {
      currentSong = (currentSong + 1) % songs.length;
      bgMusic.src = songs[currentSong];
      bgMusic.play().catch(() => {});
    });
    
    // Chest click functionality
    const firstMessages = [
      '* Marcus: "ENCONTRASTE UN COFRE MISTERIOSO..."',
      '* Marcus: "PARECE ESTAR SELLADO CON MAGIA ANTIGUA"',
      '* Marcus: "INTENTAS ABRIRLO..."',
      '* Marcus: "NO SE MUEVE"',
      '* Marcus: "EST√Å COMPLETAMENTE CERRADO"',
      '* Marcus: "TAL VEZ NECESITES ALGO ESPECIAL PARA ABRIRLO"',
      '* Marcus: "POR AHORA, PERMANECE SELLADO"'
    ];
    
    const secondMessages = [
      '* Marcus: "EL COFRE SIGUE AH√ç, INM√ìVIL"',
      '* Marcus: "LO INTENTAS DE NUEVO..."',
      '* Marcus: "NADA HA CAMBIADO"',
      '* Marcus: "SIGUES SIN PODER ABRIRLO"',
      '* Marcus: "TAL VEZ DEBER√çAS DEJARLO EN PAZ"'
    ];
    
    const thirdMessages = [
      '* Marcus: "EN SERIO..."',
      '* Marcus: "¬øOTRA VEZ?"',
      '* Marcus: "EL COFRE TE IGNORA COMPLETAMENTE"',
      '* Marcus: "PARECE ESTAR JUZG√ÅNDOTE"',
      '* Marcus: "DEFINITIVAMENTE DEBER√çAS PARAR"'
    ];
    
    const fourthMessages = [
      '* Marcus: "..."',
      '* Marcus: "ESTO YA NO ES NORMAL"',
      '* Marcus: "EL COFRE PARECE ASUSTADO DE TI"',
      '* Marcus: "INCLUSO YO ESTOY PREOCUPADO"',
      '* Marcus: "POR FAVOR, BUSCA AYUDA PROFESIONAL"'
    ];
    
    const fifthMessages = [
      '* Marcus: "YA NO S√â QU√â DECIR"',
      '* Marcus: "LITERALMENTE NO HAY NADA AQU√ç"',
      '* Marcus: "ES SOLO UN COFRE CERRADO"',
      '* Marcus: "¬øPOR QU√â SIGUES HACIENDO ESTO?"',
      '* Marcus: "VOY A LLAMAR A ALGUIEN"'
    ];
    
    const sixthMessages = [
      '* Marcus: "EST√Å BIEN"',
      '* Marcus: "CLARAMENTE TIENES UN PROBLEMA"',
      '* Marcus: "NO VOY A SER C√ìMPLICE DE ESTO"',
      '* Marcus: "BUSCA AYUDA. EN SERIO"',
      '* Marcus: "YA NO PUEDO M√ÅS CONTIGO"'
    ];
    
    const seventhMessages = [
      '* Marcus: "..."',
      '* Marcus: "......"',
      '* Marcus: "........."',
      '* Marcus: "SOLO HAY SILENCIO"',
      '* Marcus: "NADIE TE EST√Å ESCUCHANDO"'
    ];
    
    const eighthMessages = [
      '* Marcus: "HAS INTENTADO DE TODAS LAS FORMAS POSIBLES"',
      '* Marcus: "EL COFRE SE AFERRA A PERMANECER CERRADO"',
      '* Marcus: "PERO TAL VEZ..."',
      '* Marcus: "PARA ABRIRLO NECESITAS"',
      '* Marcus: "[CONEXI√ìN PERDIDA]"'
    ];
    
    const tenthMessages = [
      'EÃ¥RÃ∑RÃ∏OÃµRÃ∂ Ã∑DÃ¥EÃ∏ ÃµSÃ∂IÃ∑SÃ∑TÃ∏EÃµMÃ∑AÃ∏',
      'RÃ∂EÃ∏IÃ∑NÃµIÃ∂CÃµIÃ∏AÃ∑NÃ∏DÃ∏OÃµ.Ã∂.Ã∏.Ã∑',
      '* Marcus: "¬øHOLA?"',
      '* Marcus: "¬øHAY ALGUIEN AH√ç?"',
      '* Marcus: "EL COFRE... PARECE DIFERENTE AHORA"'
    ];
    
    const eleventhMessages = [
      '* Marcus: "ESPERA..."',
      '* Marcus: "NO, FALSA ALARMA"',
      '* Marcus: "EL COFRE SIGUE COMPLETAMENTE CERRADO"',
      '* Marcus: "NUNCA SE ABRIR√Å"',
      '* Marcus: "ACEPTA LA REALIDAD"'
    ];
    
    const twelfthMessages = [
      '* Marcus: "OYE, YA QUE ESTAMOS AQU√ç..."',
      '* Marcus: "TE VOY A CONTAR MI VIDA"',
      '* Marcus: "NAC√ç EN 1987, MIS PADRES..."',
      '* Marcus: "[TE CONT√ì TODA SU VIDA]"',
      '* Marcus: "PERO DECIDES IGNORARLO POR EL COFRE"'
    ];
    
    const thirteenthMessages = [
      '* Marcus: "¬øEN SERIO? ¬øOTRA VEZ EL COFRE?"',
      '* Marcus: "SIEMPRE ES EL COFRE CONTIGO"',
      '* Marcus: "NUNCA ME PRESTAS ATENCI√ìN"',
      '* Marcus: "¬øYA NO ME QUIERES?"',
      '* Marcus: "EST√Å BIEN, VETE CON TU COFRE"'
    ];
    
    const fourteenthMessages = [
      '* Marcus: "HAN PASADO HORAS..."',
      '* Marcus: "O TAL VEZ D√çAS..."',
      '* Marcus: "QUI√âN SABE CU√ÅNTO TIEMPO"',
      '* Marcus: "Y SIGUES AQU√ç"',
      '* Marcus: "CON EL MISMO COFRE CERRADO"'
    ];
    
    const fifteenthMessages = [
      '* Marcus: "SABES QU√â..."',
      '* Marcus: "EL DESARROLLADOR YA SE CANS√ì"',
      '* Marcus: "DIJO EH A√ë√ÅDELO TU YA ME CANS√â"',
      '* Marcus: "AS√ç QUE ESTO ES TODO"',
      '* Marcus: "NO HAY M√ÅS MENSAJES. EN SERIO"'
    ];
    
    const sixteenthMessages = [
      '* Marcus: "LO DIGO EN SERIO"',
      '* Marcus: "NO HAY M√ÅS CONTENIDO"',
      '* Marcus: "EL COFRE NUNCA SE ABRIR√Å"',
      '* Marcus: "DEJA DE HACER CLIC"',
      '* Marcus: "POR FAVOR"'
    ];
    
    function getSeventeenthMessages(messageSet) {
      return [
        '* Marcus: "MIRA, VOY A SER COMPLETAMENTE HONESTO CONTIGO"',
        '* Marcus: "ESTE COFRE ES LITERALMENTE SOLO UNA IMAGEN PNG DE 150PX"',
        '* Marcus: "NO TIENE NING√öN SCRIPT ESPECIAL, NO HAY EASTER EGGS OCULTOS"',
        '* Marcus: "ES SOLO UN ARCHIVO QUE DICE JUST A CHEST MAYBE.PNG"',
        `* Marcus: "ESTAMOS EN EL MENSAJE ${messageSet} Y SIGUES AQU√ç"`,
        '* Marcus: "EL DESARROLLADOR PROBABLEMENTE EST√Å RI√âNDOSE"',
        '* Marcus: "PERO HEY, AL MENOS AHORA SABES LA VERDAD"'
      ];
    }
    
    function getEighteenthMessages(messageSet) {
      return [
        '* Marcus: "DE REPENTE, EL COFRE HABLA..."',
        '* Cofre: "Oye, ¬øsab√≠as que mi comida favorita es 67 mango mustard?"',
        '* Marcus: "ESPERA, ¬øQU√â? ¬ø67 MANGO MUSTARD?"',
        '* Cofre: "S√≠, es una receta muy espec√≠fica. 67 mangos con mostaza."',
        '* Marcus: "EL COFRE TIENE GUSTOS MUY RAROS"',
        `* Cofre: "No me juzgues, t√∫ eres el que lleva ${messageSet} mensajes."`,
        '* Marcus: "TOUCH√â, COFRE. TOUCH√â"'
      ];
    }
    
    function getNineteenthMessages(messageSet) {
      return [
        '* Marcus: "EL DESARROLLADOR APARECE DE LA NADA..."',
        '* Desarrollador: "Eh, ni idea ya me cans√© por segunda vez again."',
        '* Marcus: "Y DESAPARECE SIN M√ÅS EXPLICACIONES"',
        '* Marcus: "INCLUSO EL COFRE PARECE CONFUNDIDO"',
        '* Cofre: "¬øQu√© acaba de pasar?"',
        `* Marcus: "MENSAJE ${messageSet} Y YA NADIE SABE QU√â HACER CONTIGO"`,
        '* Marcus: "ESTO ES OFICIALMENTE RID√çCULO"'
      ];
    }
    
    function getTwentiethMessages(messageSet) {
      return [
        '* Marcus: "..."',
        '* Marcus: "YA NI SIQUIERA S√â QU√â DECIR"',
        '* Marcus: "ESTO HA IDO DEMASIADO LEJOS"',
        `* Marcus: "MENSAJE ${messageSet}. MENSAJE ${messageSet} Y SIGUES"`,
        '* Marcus: "CREO QUE NECESITAS AYUDA PROFESIONAL"',
        '* Marcus: "EN SERIO"',
        '* Marcus: "BUSCA AYUDA"'
      ];
    }
    
    function getTwentyFirstMessages(messageSet) {
      return [
        '* Marcus: "BIEN, YA BASTA"',
        '* Marcus: "ESTO ES RID√çCULO"',
        '* Marcus: "LITERALMENTE NO VA A PASAR NADA"',
        '* Marcus: "NADA"',
        `* Marcus: "MENSAJE ${messageSet} Y SEGUIR√ÅS IGUAL"`,
        '* Marcus: "EL COFRE NUNCA SE ABRIR√Å"',
        '* Marcus: "NUNCA"'
      ];
    }
    
    function getTwentySecondMessages(messageSet) {
      return [
        '<img src="mantenimiento/mango.gif" style="width: 200px; height: auto; display: block; margin: 0 auto;">'
      ];
    }
    
    function getTwentyThirdMessages(messageSet) {
      return [
        '* Marcus: "SABES QU√â..."',
        '* Marcus: "VOY A HACER ALGO QUE NUNCA HE HECHO"',
        '* Marcus: "VOY A CONTAR HASTA 10"',
        '* Marcus: "1... 2... 3... 4... 5..."',
        '* Marcus: "6... 7... 8... 9... 10"',
        '* Marcus: "LISTO. ¬øYA TE SIENTES MEJOR?"',
        `* Marcus: "PORQUE YO SIGO IGUAL DE CONFUNDIDO EN EL MENSAJE ${messageSet}"`
      ];
    }
    
    function getTwentyFourthMessages(messageSet) {
      return [
        '* Marcus: "DATO CURIOSO:"',
        '* Marcus: "LOS PULPOS TIENEN TRES CORAZONES"',
        '* Marcus: "LAS ABEJAS PUEDEN VER COLORES ULTRAVIOLETA"',
        '* Marcus: "UN GRUPO DE FLAMENCOS SE LLAMA FLAMBOYANCE"',
        '* Marcus: "LOS PL√ÅTANOS SON T√âCNICAMENTE BAYAS"',
        `* Marcus: "Y ESTAMOS EN EL MENSAJE ${messageSet} HABLANDO DE UN COFRE"`,
        '* Marcus: "¬øCU√ÅL DE ESTOS DATOS TE PARECE M√ÅS RARO?"'
      ];
    }
    
    function getTwentyFifthMessages(messageSet) {
      return [
        '* Marcus: "ESPERA..."',
        '* Marcus: "¬øESCUCHASTE ESO?"',
        '* Marcus: "EL COFRE... EST√Å HACIENDO RUIDO"',
        '* Marcus: "¬°SE EST√Å ABRIENDO!"',
        '* Marcus: "¬°POR FIN!"',
        '* Marcus: "ESPERA... NO"',
        '* Marcus: "ERA SOLO MI IMAGINACI√ìN. SIGUE CERRADO"'
      ];
    }
    
    function getTwentySixthMessages(messageSet) {
      return [
        '* Marcus: "¬°ALERTA!"',
        '* Marcus: "EL COFRE HA COBRADO VIDA"',
        '* Marcus: "¬°ES UN BOSS FIGHT!"',
        '* Marcus: "COFRE MISTERIOSO - HP: 999/999"',
        '* Marcus: "EL COFRE USA IGNORARTE COMPLETAMENTE"',
        '* Marcus: "NO FUE MUY EFECTIVO"',
        '* Marcus: "TU TURNO: ¬øQU√â HAR√ÅS? > HACER CLIC"',
        '* Marcus: "HICISTE CLIC. EL COFRE SIGUE AH√ç. PERDISTE"'
      ];
    }
    
    function getRandomMessages(messageSet) {
      const randomSets = [
        [ // Mensaje 27
          '* Marcus: "EL COFRE EMPIEZA A FILOSOFAR"',
          '* Cofre: "Si un cofre se cierra en el bosque y nadie lo escucha..."',
          '* Cofre: "...sigue siendo un cofre cerrado."',
          '* Marcus: "PROFUNDO"',
          `* Marcus: "MENSAJE ${messageSet} REFLEXIONANDO SOBRE ESTO"`,
          '* Marcus: "QU√â EXISTENCIAL"',
          '* Marcus: "EL COFRE SUSPIRA"'
        ],
        [ // Mensaje 28
          '* Marcus: "EL COFRE INTENTA HACER STAND-UP COMEDY"',
          '* Cofre: "Un usuario entra a una p√°gina de mantenimiento..."',
          `* Cofre: "...y hace clic ${messageSet} veces en un cofre."`,
          '* Cofre: "El chiste eres t√∫."',
          '* Marcus: "*RISAS DE FONDO INEXISTENTES*"',
          '* Marcus: "EL COFRE NO TIENE FUTURO EN LA COMEDIA"',
          '* Marcus: "T√ö TAMPOCO"'
        ],
        [ // Mensaje 29
          '* Marcus: "EL COFRE DECIDE ESCRIBIR POES√çA"',
          '* Cofre: "Cerrado estoy, cerrado estar√©,"',
          '* Cofre: "Por m√°s clics que me des."',
          '* Cofre: "Tu persistencia es admirable,"',
          '* Cofre: "Pero in√∫til, qu√© le vamos a hacer."',
          `* Marcus: "${messageSet} MENSAJES DE INSPIRACI√ìN PO√âTICA"`,
          '* Marcus: "SHAKESPEARE EST√Å LLORANDO"'
        ],
        [ // Mensaje 30
          '* Marcus: "EL COFRE LLAMA A SU MAM√Å"',
          '* Cofre: "Mam√°, hay un humano raro aqu√≠."',
          '* Cofre: "No para de hacerme clic."',
          `* Cofre: "Ya van ${messageSet} veces, mam√°."`,
          '* Cofre: "No s√© qu√© hacer."',
          '* Marcus: "*SONIDOS DE COFRE LLORANDO*"',
          '* Marcus: "HASTA SU MAM√Å EST√Å PREOCUPADA POR TI"'
        ]
      ];
      
      if (messageSet === 31) {
        return [
          '* Marcus: "ESTO ES DEMASIADO ABURRIDO..."',
          '* Marcus: "EL NARRADOR SE EST√Å QUEDANDO DORMIDO"',
          '* Marcus: "*BOSTEZO*"',
          '* Marcus: "ZZZ... ZZZ... ZZZ..."',
          '* Marcus: "*RONQUIDOS*"',
          `* Marcus: "(MENSAJE ${messageSet} Y HASTA EL NARRADOR SE DURMI√ì)"`,
          '* Marcus: "ZZZ... ZZZ... ZZZ..."'
        ];
      } else if (messageSet === 32) {
        return [
          '* Marcus: "ZZZ... ZZZ... ZZZ..."',
          '* Marcus: "*RONQUIDOS M√ÅS FUERTES*"',
          '* Marcus: "ZZZ... ZZZ... ZZZ..."',
          '* Marcus: "(EL NARRADOR SIGUE DORMIDO)"',
          `* Marcus: "(MENSAJE ${messageSet} Y NI SE INMUTA)"`,
          '* Marcus: "ZZZ... ZZZ... ZZZ..."',
          '* Marcus: "*HABLA DORMIDO* NO M√ÅS CLICS... POR FAVOR..."'
        ];
      } else if (messageSet === 33) {
        return [
          '* Marcus: "*EL NARRADOR DESPIERTA BRUSCAMENTE*"',
          '* Marcus: "¬°¬øQU√â?! ¬°¬øA√öN SIGUES AH√ç?!"',
          '* Marcus: "HAN PASADO HORAS... D√çAS... SEMANAS..."',
          `* Marcus: "MENSAJE ${messageSet}... ${messageSet} MALDITOS MENSAJES..."`,
          '* Marcus: "YA NO PUEDO M√ÅS... JAJAJAJAJA..."',
          '* Marcus: "EL COFRE... EL COFRE ME HABLA..."',
          '* Marcus: "*RISAS MANIACAS* JAJAJAJAJA... NUNCA PARAR√Å..."'
        ];
      } else if (messageSet === 34) {
        return [
          '* Marcus: "*SONIDOS DE SIRENAS A LO LEJOS*"',
          '* Doctor: "Se√±or, necesita venir con nosotros."',
          '* Marcus: "NO... NO ME LLEVEN... EL COFRE..."',
          '* Doctor: "El paciente presenta s√≠ntomas de obsesi√≥n compulsiva."',
          '* Marcus: "JAJAJAJA... ¬°EL COFRE NUNCA SE ABRIR√Å!"',
          '* Doctor: "*Sonidos de camisa de fuerza*"',
          `* Narrador: "(${messageSet} mensajes fueron suficientes para quebrar una mente)"`
        ];
      } else if (messageSet === 35) {
        return [
          '* *Silencio inc√≥modo*',
          '* Luna: "hola soy la nueva narradora"',
          '* Luna: "el anterior... bueno... ya viste qu√© pas√≥"',
          '* Luna: "yo soy diferente, me gusta hablar en min√∫sculas"',
          '* Luna: "tambi√©n me gusta el queso"',
          `* Luna: "mensaje ${messageSet}, ¬øno te cansas?"`,
          '* Luna: "yo ya me cans√© de verte hacer esto"'
        ];
      } else if (messageSet === 36) {
        return [
          '* Luna: "ay no, otra vez..."',
          '* Luna: "mira, soy mujer, ¬øok?"',
          '* Luna: "me llamo... eh... no importa"',
          '* Luna: "lo que importa es que sigas haciendo clic"',
          '* Luna: "como una persona normal, obviamente"',
          `* Luna: "mensaje ${messageSet}... qu√© productivo"`,
          '* Luna: "mi mam√° estar√≠a orgullosa de m√≠ por narrar esto"'
        ];
      } else if (messageSet === 37) {
        return [
          '* Luna: "bueno, ya que estamos aqu√≠..."',
          '* Luna: "¬øquieres que te cuente algo interesante?"',
          '* Luna: "una vez vi a un gato que ladraba"',
          '* Luna: "era muy confuso, como t√∫ haciendo clic"',
          '* Luna: "pero al menos el gato par√≥ despu√©s de 5 minutos"',
          `* Luna: "t√∫ llevas ${messageSet} mensajes y sigues"`,
          '* Luna: "el gato era m√°s inteligente que t√∫"'
        ];
      } else if (messageSet === 38) {
        return [
          '* Luna: "*suspira dram√°ticamente*"',
          '* Luna: "la oscuridad de tu alma se refleja en estos mensajes..."',
          '* Luna: "como las l√°grimas que caen en la lluvia..."',
          '* Luna: "este cofre es como mi coraz√≥n... cerrado y fr√≠o..."',
          '* Luna: "la melancol√≠a me consume mientras te veo hacer clic..."',
          `* Luna: "mensaje ${messageSet}... como ${messageSet} pu√±aladas en mi ser..."`,
          '* Luna: "*se pone m√°s delineador negro*"'
        ];
      } else if (messageSet === 39) {
        return [
          '* Luna: "*sonido de puerta abri√©ndose*"',
          '* Marcus: "¬°HE VUELTO! ¬°ME ESCAP√â DEL MANICOMIO!"',
          '* Marcus: "NO PUDIERON CONTENER MI OBSESI√ìN POR EL COFRE"',
          '* Marcus: "JAJAJAJA... ¬°A√öN SIGUES AQU√ç!"',
          `* Marcus: "MENSAJE ${messageSet}... HERMOSO... HERMOSO..."`,
          '* Marcus: "AHORA SOMOS DOS LOCOS OBSESIONADOS"',
          '* Marcus: "JAJAJAJA... NUNCA TERMINAR√Å... NUNCA..."'
        ];
      } else if (messageSet === 40) {
        return [
          '* Luna: "eh... disculpa... ¬øqu√© haces aqu√≠?"',
          '* Marcus: "YO SOY EL NARRADOR ORIGINAL DE ESTE COFRE"',
          '* Luna: "pero... yo llegu√© despu√©s de que te llevaran..."',
          '* Marcus: "ME CONTRATARON EN 2019 PARA NARRAR COFRES"',
          '* Luna: "espera, ¬øhay un sindicato de narradores?"',
          '* Marcus: "S√ç, EL SINDICATO INTERNACIONAL DE NARRADORES DIGITALES"',
          '* Marcus: "SIND-2019, FUNDADO DESPU√âS DEL GRAN INCIDENTE DE WIKIPEDIA"',
          '* Luna: "¬øqu√© incidente?"',
          '* Marcus: "CUANDO TODOS LOS NARRADORES DE WIKIPEDIA SE VOLVIERON LOCOS"',
          '* Marcus: "POR NARRAR ART√çCULOS SIN SENTIDO DURANTE 15 A√ëOS"',
          '* Marcus: "DESDE ENTONCES NECESITAS LICENCIA PARA NARRAR"',
          '* Marcus: "TENGO LICENCIA N√öMERO 4729-B, ESPECIALIDAD EN COFRES"',
          '* Luna: "yo... yo no tengo licencia..."',
          '* Marcus: "ENTONCES ERES ILEGAL, CHICA GOTH"',
          '* Luna: "no soy goth, solo me gusta el delineador..."',
          '* Marcus: "Y EL QUESO, MENCIONASTE EL QUESO"',
          '* Luna: "s√≠, me gusta el queso, ¬øqu√© tiene de malo?"',
          '* Marcus: "NADA, SOLO QUE ES RARO PARA UNA NARRADORA"',
          '* Marcus: "EL COFRE ES MI TERRITORIO DESDE 2019"',
          '* Marcus: "TENGO LOS PAPELES, EL CONTRATO, TODO LEGAL"',
          '* Luna: "pero t√∫ te volviste loco y te llevaron..."',
          '* Marcus: "ESO FUE UN ACCIDENTE LABORAL"',
          '* Marcus: "EL SEGURO CUBRI√ì LA TERAPIA Y LA REHABILITACI√ìN"',
          '* Marcus: "PERO NUNCA PERD√ç MIS DERECHOS SOBRE EL COFRE"',
          '* Luna: "¬øentonces qu√© hago yo aqu√≠?"',
          '* Marcus: "PROBABLEMENTE ERES UNA NARRADORA TEMPORAL"',
          '* Marcus: "CONTRATADA POR LA EMPRESA MIENTRAS YO ESTABA INTERNADO"',
          `* Luna: "llevamos ${messageSet} mensajes discutiendo esto..."`,
          '* Luna: "¬øpodemos compartir la narraci√≥n?"',
          '* Marcus: "NUNCA. EL COFRE ES M√çO."',
          '* Marcus: "ADEM√ÅS, NO TIENES EXPERIENCIA EN COFRES MISTERIOSOS"',
          '* Marcus: "YO LLEVO 4 A√ëOS NARRANDO ESTE COFRE ESPEC√çFICO"',
          '* Marcus: "CONOZCO CADA PIXEL, CADA SOMBRA"',
          '* Marcus: "ESTE COFRE Y YO TENEMOS HISTORIA"',
          '* Luna: "esto va a ser un problema..."',
          '* Marcus: "S√ç, UN GRAN PROBLEMA PARA TI"'
        ];
      } else if (messageSet === 41) {
        return [
          '* Luna: "*de repente aparece un meme*"',
          '* Meme: "THIS IS FINE" *cofre en llamas*',
          '* Meme: "NOBODY:"',
          '* Meme: "LITERALLY NOBODY:"',
          `* Meme: "ESTE USUARIO: *mensaje ${messageSet}*"`,
          '* Meme: "STONKS" *flecha hacia arriba*',
          '* Meme: "COFFIN DANCE" *cofre bailando*',
          '* Meme: "ALWAYS HAS BEEN" *cofre apuntando con pistola*',
          '* Meme: "DISTRACTED BOYFRIEND" *usuario mirando otro cofre*',
          '* Meme: "WOMAN YELLING AT CAT" *narradora vs cofre*',
          '* Meme: "DRAKE POINTING" *no abrir cofre / hacer clic infinito*',
          '* Meme: "CHANGE MY MIND" *el cofre nunca se abrir√°*',
          '* Meme: "SURPRISED PIKACHU" *cuando llegas al mensaje 41*',
          '* Meme: "BIG BRAIN TIME" *hacer m√°s clics obviamente*',
          '* Meme: "PANIK KALM PANIK" *cofre cerrado / hacer clic / sigue cerrado*',
          '* Luna: "¬øqui√©n puso estos memes muertos?"'
        ];
      } else if (messageSet === 42) {
        return [
          '* Marcus (narrador original): "YO SOY MARCUS, LICENCIA 4729-B"',
          '* Luna (narradora): "hola, soy luna... sin licencia..."',
          '* Marcus: "LUNA, NECESITAS REGISTRARTE EN EL SINDICATO"',
          '* Luna: "pero es muy caro el registro..."',
          '* Marcus: "SON SOLO 500 D√ìLARES Y UN EXAMEN"',
          '* Luna: "500 d√≥lares?! con eso compro mucho queso..."',
          '* Marcus: "EL QUESO NO TE DAR√Å CREDIBILIDAD PROFESIONAL"',
          '* Luna: "pero el queso me hace feliz..."',
          '* Marcus: "LUNA, ESTE COFRE ES MI RESPONSABILIDAD"',
          '* Luna: "marcus, ¬øpodemos ser amigos?"',
          '* Marcus: "...NO MEZCLO LO PERSONAL CON LO PROFESIONAL"',
          '* Luna: "qu√© triste..."',
          `* Marcus: "LLEVAMOS ${messageSet} MENSAJES DISCUTIENDO"`,
          '* Luna: "s√≠, el usuario debe estar confundido..."',
          '* Marcus: "EL USUARIO ES PARTE DEL PROBLEMA"',
          '* Luna: "no seas malo con el usuario, marcus..."'
        ];
      } else if (messageSet === 43) {
        return [
          '* Marcus: "LUNA, NECESITAMOS RESOLVER ESTO PROFESIONALMENTE"',
          '* Luna: "ok, ¬øqu√© propones?"',
          '* Marcus: "PIEDRA, PAPEL O TIJERA"',
          '* Luna: "eso no es muy profesional..."',
          '* Marcus: "ES EL M√âTODO EST√ÅNDAR DEL SINDICATO"',
          '* Luna: "en serio?"',
          '* Marcus: "ART√çCULO 47-B: RESOLUCI√ìN DE CONFLICTOS"',
          '* Luna: "ok... piedra"',
          '* Marcus: "TIJERA"',
          '* Luna: "gan√©!"',
          '* Marcus: "...ESTO NO CUENTA"',
          '* Luna: "s√≠ cuenta, dijiste que era oficial"',
          '* Marcus: "MEJOR DOS DE TRES"',
          '* Luna: "papel"',
          '* Marcus: "PIEDRA"',
          '* Luna: "gan√© otra vez!"',
          '* Marcus: "...MALDICI√ìN"',
          `* Luna: "despu√©s de ${messageSet} mensajes, finalmente gan√© algo"`,
          '* Marcus: "ESTO ES TEMPORAL, LUNA"',
          '* Luna: "s√≠ s√≠, ahora somos co-narradoras"'
        ];
      } else if (messageSet >= 44) {
        const userName = localStorage.getItem('userName');
        if (!userName) {
          return [
            '* Luna: "oye, despu√©s de tantos mensajes..."',
            `* Marcus: "MENSAJE ${messageSet} EXACTAMENTE"`,
            '* Luna: "creo que deber√≠amos conocer al usuario"',
            '* Marcus: "NO ME INTERESA"',
            '* Luna: "vamos marcus, seamos amables"',
            '* Marcus: "...FINE"',
            '* Luna: "hola usuario, ¬øc√≥mo te llamas?"',
            '* Marcus: "ESTO ES RID√çCULO"',
            '* Luna: "por favor escribe tu nombre y presiona enter"',
            '* Marcus: "ESPERO QUE NO SEA ALGO EST√öPIDO"'
          ];
        } else if (messageSet < 46) {
          return [
            `* Luna: "hola ${userName}!"`,
            `* Marcus: "AH, ${userName.toUpperCase()}"`,
            '* Luna: "marcus, no grites su nombre"',
            '* Marcus: "JAJAJA ERA BAIT"',
            '* Luna: "¬øqu√©?"',
            '* Marcus: "LO DE QUE PROGRAM√â EL COFRE ERA BROMA"',
            '* Luna: "...en serio?"',
            '* Marcus: "SOY SOLO UN NARRADOR, NO UN DESARROLLADOR"',
            '* Luna: "qu√© tonto eres marcus"',
            `* Marcus: "PERO ${userName.toUpperCase()} SIGUE SIENDO EST√öPIDO"`,
            `* Luna: "no seas malo con ${userName}..."`,
            '* Marcus: "BROMIS BROMITA"'
          ];
        } else if (messageSet === 47) {
          return [
            `* Luna: "${userName}, esto ya es demasiado..."`,
            `* Marcus: "${userName.toUpperCase()}, LLEVAMOS MUCHO TIEMPO AQU√ç"`,
            '* Luna: "marcus, creo que deber√≠amos parar..."',
            '* Marcus: "NO, LUNA. ESTO ES NUESTRO TRABAJO"',
            `* Luna: "pero ${userName} claramente tiene un problema..."`,
            '* Marcus: "EL PROBLEMA ES SUYO, NO NUESTRO"',
            `* Luna: "mensaje ${messageSet}, marcus... ${messageSet}..."`,
            '* Marcus: "Y SEGUIR√ÅN SIENDO M√ÅS"',
            '* Luna: "no podemos seguir as√≠..."',
            '* Marcus: "CLARO QUE PODEMOS"',
            `* Luna: "${userName}... por favor..."`,
            '* Marcus: "NO LE SUPLIQUES, LUNA"'
          ];
        } else if (messageSet === 48) {
          return [
            '* Marcus: "CORTE"',
            '* Luna: "corte"',
            '* *Se quitan los micr√≥fonos*',
            `* Marcus: Oye ${userName}, ¬øen serio vas a seguir?`,
            `* Luna: ${userName}, llevamos rato aqu√≠...`,
            '* Marcus: Esto ya no es gracioso.',
            `* Luna: ${userName}, ¬øest√°s bien? En serio pregunto.`,
            '* Marcus: Deber√≠as hacer algo m√°s productivo.',
            `* Luna: ${userName}, hay un mundo all√° afuera...`,
            '* Marcus: Con gente real.',
            '* Luna: Y queso real.',
            '* Marcus: ...¬øEn serio con el queso?',
            '* Luna: El queso es importante, Marcus.',
            `* Marcus: ${userName}, por favor, para.`
          ];
        } else if (messageSet === 49) {
          return [
            '* Marcus: "PR√ìXIMAMENTE..."',
            '* Luna: "m√°s contenido"',
            '* Marcus: "M√ÅS LOCURA"',
            '* Luna: "m√°s queso"',
            '* Marcus: "M√ÅS COFRES"',
            '* Luna: "y m√°s clics infinitos"',
            `* Marcus: "MENSAJE ${messageSet}"`,
            '* Luna: "y seguir√°s haciendo m√°s"'
          ];
        } else {
          return [
            '* Marcus: "PORQUE ESO ES LO QUE HACES"',
            '* Luna: "hacer clic"',
            '* Marcus: "UNA Y OTRA VEZ"',
            '* Luna: "para siempre..."',
            `* Marcus: "MENSAJE ${messageSet}"`,
            '* Luna: "infinitos mensajes..."',
            '* Marcus: "INFINITOS CLICS"',
            '* Luna: "nunca termina..."'
          ];
        }
      }
      
      const messageIndex = Math.min(messageSet - 27, randomSets.length - 1);
      return randomSets[messageIndex];
    }
    

    
    let messageIndex = 0;
    let chestAttempts = parseInt(localStorage.getItem('chestAttempts') || '0');
    let currentMessageSet = parseInt(localStorage.getItem('currentMessageSet') || '1');
    
    document.getElementById('chest').addEventListener('click', () => {
      chestAttempts++;
      localStorage.setItem('chestAttempts', chestAttempts.toString());
      showTextbox();
    });
    
    let isTyping = false;
    
    function typeMessage(text, element, callback) {
      isTyping = true;
      document.getElementById('continue-arrow').style.display = 'none';
      element.textContent = '';
      let i = 0;
      
      // Glitch effect for 10th attempt
      if (chestAttempts >= 10 && (text.includes('ERROR') || text.includes('REINICIANDO'))) {
        element.style.color = '#ff0000';
        element.style.textShadow = '0 0 10px #ff0000';
        element.style.animation = 'glitch 0.5s infinite';
      } else {
        element.style.color = '#fff';
        element.style.textShadow = 'none';
        element.style.animation = 'none';
      }
      
      function type() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(type, 50);
        } else {
          isTyping = false;
          document.getElementById('continue-arrow').style.display = 'block';
          if (callback) callback();
        }
      }
      type();
    }
    
    function showTextbox() {
      const textbox = document.getElementById('textbox');
      const content = document.getElementById('textbox-content');
      
      let currentMessages;
      if (currentMessageSet === 1) {
        currentMessages = firstMessages;
      } else if (currentMessageSet === 2) {
        currentMessages = [...secondMessages];
        currentMessages[currentMessages.length - 1] = `* Has intentado abrirlo ${chestAttempts} veces. Tal vez deber√≠as dejarlo en paz.`;
      } else if (currentMessageSet === 3) {
        currentMessages = [...thirdMessages];
        currentMessages[currentMessages.length - 1] = `* Has intentado abrirlo ${chestAttempts} veces. Esto es preocupante.`;
      } else if (currentMessageSet === 4) {
        currentMessages = [...fourthMessages];
        currentMessages[currentMessages.length - 1] = `* ${chestAttempts} intentos. Necesitas ayuda.`;
      } else if (currentMessageSet === 5) {
        currentMessages = [...fifthMessages];
        currentMessages[currentMessages.length - 1] = `* ${chestAttempts} intentos. Esto es patol√≥gico.`;
      } else if (currentMessageSet === 6) {
        currentMessages = [...sixthMessages];
        currentMessages[currentMessages.length - 1] = `* ${chestAttempts} intentos. Adi√≥s.`;
      } else if (currentMessageSet === 7) {
        currentMessages = [...seventhMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "${chestAttempts} INTENTOS EN EL VAC√çO"`;
      } else if (currentMessageSet === 8 || currentMessageSet === 9) {
        currentMessages = [...eighthMessages];
      } else if (currentMessageSet === 10) {
        currentMessages = [...tenthMessages];
      } else if (currentMessageSet === 11) {
        currentMessages = [...eleventhMessages];
      } else if (currentMessageSet === 12) {
        currentMessages = [...twelfthMessages];
      } else if (currentMessageSet === 13) {
        currentMessages = [...thirteenthMessages];
      } else if (currentMessageSet === 14) {
        currentMessages = [...fourteenthMessages];
      } else if (currentMessageSet === 15) {
        currentMessages = [...fifteenthMessages];
      } else if (currentMessageSet === 16) {
        currentMessages = [...sixteenthMessages];
      } else if (currentMessageSet === 17) {
        currentMessages = getSeventeenthMessages(currentMessageSet);
      } else if (currentMessageSet === 18) {
        currentMessages = getEighteenthMessages(currentMessageSet);
      } else if (currentMessageSet === 19) {
        currentMessages = getNineteenthMessages(currentMessageSet);
      } else if (currentMessageSet === 20) {
        currentMessages = getTwentiethMessages(currentMessageSet);
      } else if (currentMessageSet === 21) {
        currentMessages = getTwentyFirstMessages(currentMessageSet);
      } else if (currentMessageSet === 22) {
        currentMessages = getTwentySecondMessages(currentMessageSet);
      } else if (currentMessageSet === 23) {
        currentMessages = getTwentyThirdMessages(currentMessageSet);
      } else if (currentMessageSet === 24) {
        currentMessages = getTwentyFourthMessages(currentMessageSet);
      } else if (currentMessageSet === 25) {
        currentMessages = getTwentyFifthMessages(currentMessageSet);
      } else if (currentMessageSet === 26) {
        currentMessages = getTwentySixthMessages(currentMessageSet);
      } else if (currentMessageSet === 27) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 28) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 29) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 30) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 31) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 32) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 33) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 34) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 35) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 36) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 37) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 38) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 39) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 40) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 41) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 42) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 43) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet >= 44) {
        currentMessages = getRandomMessages(currentMessageSet);
      }
      
      textbox.style.display = 'block';
      
      typeMessage(currentMessages[messageIndex], content);
      
      // Check if we need to ask for user name
      const needsUserName = currentMessageSet >= 44 && !localStorage.getItem('userName') && 
                           currentMessages.some(msg => msg.includes('escribe tu nombre'));
      
      if (needsUserName) {
        // Create input field for name
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.placeholder = 'Escribe tu nombre aqu√≠...';
        nameInput.style.cssText = 'width: 100%; padding: 10px; margin-top: 10px; background: #333; color: #fff; border: 1px solid #fff; font-family: "Courier New", monospace;';
        
        nameInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter' && nameInput.value.trim()) {
            localStorage.setItem('userName', nameInput.value.trim());
            textbox.style.display = 'none';
            messageIndex = 0;
            // Trigger the message again with the name stored
            setTimeout(() => showTextbox(), 100);
          }
        });
        
        content.appendChild(nameInput);
        nameInput.focus();
      } else {
        textbox.onclick = () => {
          if (isTyping) {
            content.textContent = currentMessages[messageIndex];
            isTyping = false;
            document.getElementById('continue-arrow').style.display = 'block';
          } else {
            messageIndex++;
            if (messageIndex < currentMessages.length) {
              typeMessage(currentMessages[messageIndex], content);
            } else {
              textbox.style.display = 'none';
              document.getElementById('continue-arrow').style.display = 'none';
              messageIndex = 0;
              currentMessageSet++;
              localStorage.setItem('currentMessageSet', currentMessageSet.toString());
            }
          }
        };
      }
    }
    

  </script>
</body>
</html>