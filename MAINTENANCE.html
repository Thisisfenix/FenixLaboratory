<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#000000">
  <title>ðŸ”§ FenixLaboratory - Mantenimiento</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Courier New', monospace;
      background: #000000;
      color: #00ff00;
      min-height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .countdown {
      position: absolute;
      top: -200px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 2rem;
      animation: slideDown 2s ease-out 1s forwards;
    }
    .time-unit {
      background: rgba(0, 255, 0, 0.1);
      border: 2px solid #00ff00;
      border-radius: 12px;
      padding: 1.5rem;
      min-width: 80px;
      text-align: center;
      box-shadow: 0 0 20px #00ff00;
    }
    .time-unit span {
      display: block;
      font-size: 2.5rem;
      font-weight: bold;
      color: #00ff00;
      text-shadow: 0 0 15px #00ff00;
    }
    .time-unit label {
      font-size: 1rem;
      color: #00ff00;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    .maintenance-text {
      font-size: 4rem;
      font-weight: bold;
      text-align: center;
      letter-spacing: 8px;
    }
    .letter {
      display: inline-block;
      opacity: 0;
      color: #333;
      text-shadow: none;
    }
    .letter.lit {
      opacity: 1;
      color: #00ff00;
      text-shadow: 0 0 30px #00ff00, 0 0 40px #00ff00, 0 0 50px #00ff00;
      animation: letterFlicker 0.3s ease-in;
    }
    @keyframes slideDown {
      0% { top: -200px; opacity: 0; }
      100% { top: 20%; opacity: 1; }
    }
    @keyframes letterFlicker {
      0%, 50% { opacity: 0; }
      100% { opacity: 1; }
    }
    .collapse {
      animation: pageCollapse 5s ease-in forwards;
    }
    @keyframes pageCollapse {
      0% { transform: scale(1) rotate(0deg); filter: brightness(1); }
      25% { transform: scale(0.9) rotate(-2deg); filter: brightness(0.8); }
      50% { transform: scale(0.7) rotate(5deg); filter: brightness(0.5) blur(2px); }
      75% { transform: scale(0.4) rotate(-10deg); filter: brightness(0.2) blur(5px); }
      100% { transform: scale(0) rotate(180deg); filter: brightness(0) blur(10px); opacity: 0; }
    }
    .help-message {
      position: absolute;
      color: #ff0000;
      font-size: 1.5rem;
      font-weight: bold;
      text-shadow: 0 0 20px #ff0000;
      opacity: 0;
      animation: helpFlash 2s ease-in-out;
      pointer-events: none;
    }
    @keyframes helpFlash {
      0%, 100% { opacity: 0; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
    }
    .undertale-textbox {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      max-width: 600px;
      background: #000;
      border: 3px solid #fff;
      padding: 20px;
      font-family: 'Courier New', monospace;
      font-size: 18px;
      color: #fff;
      display: none;
      z-index: 1000;
    }
    .continue-arrow {
      position: absolute;
      bottom: 10px;
      right: 15px;
      color: #ff6b35;
      font-size: 20px;
      display: none;
      animation: arrowBlink 1s infinite;
    }
    @keyframes arrowBlink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    @keyframes glitch {
      0% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
      100% { transform: translate(0); }
    }
    
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #ff6b35;
      border-radius: 50%;
      pointer-events: none;
      z-index: 999;
    }
    
    @keyframes explode {
      0% {
        transform: scale(1) translate(0, 0);
        opacity: 1;
      }
      100% {
        transform: scale(0) translate(var(--dx), var(--dy));
        opacity: 0;
      }
    }
    
    .reset-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255, 0, 0, 0.8);
      color: white;
      border: 2px solid #ff0000;
      padding: 10px 15px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      cursor: pointer;
      border-radius: 5px;
      z-index: 9999;
      transition: all 0.3s;
    }
    
    .reset-button:hover {
      background: rgba(255, 0, 0, 1);
      box-shadow: 0 0 15px #ff0000;
    }
    
    @media (max-width: 768px) {
      .maintenance-text { font-size: 2.5rem; letter-spacing: 4px; }
      .countdown { gap: 1rem; }
      .time-unit { padding: 1rem; min-width: 60px; }
      .time-unit span { font-size: 1.8rem; }
      .time-unit label { font-size: 0.8rem; }
      .undertale-textbox { width: 95%; font-size: 16px; padding: 15px; }
      #chest { width: 120px; }
      #gissel-plushie { width: 80px; bottom: 5%; right: 5%; }
      .reset-button { top: 10px; right: 10px; padding: 8px 12px; font-size: 12px; }
    }

  </style>
</head>
<body>
  <div class="countdown">
    <div class="time-unit">
      <span id="days">0</span>
      <label>DÃ­as</label>
    </div>
    <div class="time-unit">
      <span id="hours">0</span>
      <label>Horas</label>
    </div>
    <div class="time-unit">
      <span id="minutes">0</span>
      <label>Minutos</label>
    </div>
    <div class="time-unit">
      <span id="seconds">0</span>
      <label>Segundos</label>
    </div>
  </div>
  <div class="maintenance-text" id="maintenance-text"></div>
  <img src="mantenimiento/just a chest maybe.png" alt="Chest" id="chest" style="position: absolute; bottom: 20%; left: 50%; transform: translateX(-50%); width: 150px; opacity: 0.8; cursor: pointer;">
  <img src="placeholder/gisselplushie.png" alt="Gissel Plushie" id="gissel-plushie" style="position: absolute; bottom: 10%; right: 10%; width: 100px; opacity: 0.9; cursor: pointer; transition: all 0.3s;">
  <img src="placeholder/perromeditando.png" alt="Molly Plushie" id="molly-plushie" style="position: absolute; bottom: 10%; right: 10%; width: 100px; opacity: 0.9; cursor: pointer; transition: all 0.3s; display: none;">
  <div class="undertale-textbox" id="textbox">
    <div id="textbox-content">* Encontraste un cofre misterioso...</div>
    <div class="continue-arrow" id="continue-arrow">â–¶</div>
  </div>
  <button class="reset-button" id="reset-button">ðŸ”„ RESET</button>
  <audio id="bgMusic" loop>
    <source src="mantenimiento/song1.mp3" type="audio/mpeg">
  </audio>
  <audio id="gisselSound" preload="auto">
    <source src="mantenimiento/plushiesound.mp3" type="audio/mpeg">
  </audio>
  <audio id="explosionSound" preload="auto">
    <source src="mantenimiento/explosion.mp3" type="audio/mpeg">
  </audio>
  <audio id="mollySound" preload="auto">
    <source src="placeholder/ahhh.m4a" type="audio/mp4">
  </audio>
  <script>
    const endTime = new Date('2025-12-13T22:00:00').getTime();
    
    function updateCountdown() {
      const now = new Date().getTime();
      const timeLeft = endTime - now;
      
      if (timeLeft > 0) {
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
        
        document.getElementById('days').textContent = days;
        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
        document.getElementById('seconds').textContent = seconds;
      } else {
        // Hide all HUD elements
        document.querySelector('.countdown').style.display = 'none';
        document.querySelector('#maintenance-text').style.display = 'none';
        document.querySelector('#chest').style.display = 'none';
        document.querySelector('#gissel-plushie').style.display = 'none';
        document.querySelector('#molly-plushie').style.display = 'none';
        document.querySelector('#textbox').style.display = 'none';
        
        // Show completion message
        const completionMsg = document.createElement('div');
        completionMsg.style.cssText = 'position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #00ff00; font-size: 3rem; font-family: "Courier New", monospace; text-align: center; z-index: 9999; text-shadow: 0 0 20px #00ff00;';
        completionMsg.innerHTML = 'MANTENIMIENTO FINALIZADO<br><span style="font-size: 1.5rem; opacity: 0.8;">Gracias por ver</span>';
        document.body.appendChild(completionMsg);
        
        // Redirect after 3 seconds
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 3000);
      }
    }
    
    setInterval(updateCountdown, 1000);
    updateCountdown();
    
    // Light up letters one by one
    const text = 'MANTENIMIENTO';
    const container = document.getElementById('maintenance-text');
    
    // Create letter spans
    text.split('').forEach(char => {
      const span = document.createElement('span');
      span.className = 'letter';
      span.textContent = char === ' ' ? '\u00A0' : char;
      container.appendChild(span);
    });
    
    // Light up letters with delay
    const letters = document.querySelectorAll('.letter');
    letters.forEach((letter, index) => {
      setTimeout(() => {
        letter.classList.add('lit');
      }, 3000 + (index * 200));
    });
    
    // Help messages
    const helpMessages = [
      'CONEXIÃ“N INESTABLE...',
      'SERVIDORES SOBRECARGADOS',
      'BASE DE DATOS CORRUPTA',
      'MEMORIA INSUFICIENTE',
      'FIREWALL COMPROMETIDO',
      'BACKUP FALLIDO',
      'RED DESCONECTADA',
      'DISCO DURO FRAGMENTADO',
      'TEMPERATURA CRÃTICA',
      'ACTUALIZACIÃ“N INTERRUMPIDA'
    ];
    
    function showHelpMessage() {
      const message = document.createElement('div');
      message.className = 'help-message';
      message.textContent = helpMessages[Math.floor(Math.random() * helpMessages.length)];
      message.style.left = Math.random() * 80 + 10 + '%';
      message.style.top = Math.random() * 80 + 10 + '%';
      document.body.appendChild(message);
      
      setTimeout(() => {
        message.remove();
      }, 2000);
    }
    
    // Start showing messages after 10 seconds
    setTimeout(() => {
      setInterval(showHelpMessage, 3000);
    }, 10000);
    
    // Show chest and plushie after letters finish
    setTimeout(() => {
      document.querySelector('#chest').style.opacity = '1';
      
      // 0.1% chance for Molly, 99.9% for Gissel
      if (Math.random() < 0.001) {
        document.querySelector('#molly-plushie').style.display = 'block';
        document.querySelector('#molly-plushie').style.opacity = '1';
      } else {
        document.querySelector('#gissel-plushie').style.opacity = '1';
      }
    }, 6000);
    
    // Background music
    const songs = ['mantenimiento/song1.mp3', 'mantenimiento/song2.mp3'];
    let currentSong = 0;
    const bgMusic = document.getElementById('bgMusic');
    
    // Start music after user interaction
    function startMusic() {
      if (bgMusic.paused) {
        bgMusic.volume = 0.3;
        bgMusic.play().catch(() => {});
      }
    }
    
    document.addEventListener('click', startMusic, { once: true });
    document.addEventListener('touchstart', startMusic, { once: true });
    
    // Switch songs when current ends
    bgMusic.addEventListener('ended', () => {
      currentSong = (currentSong + 1) % songs.length;
      bgMusic.src = songs[currentSong];
      bgMusic.play().catch(() => {});
    });
    
    // Chest click functionality
    const firstMessages = [
      '* Marcus: "Encontraste un cofre misterioso..."',
      '* Marcus: "Parece estar sellado con magia antigua"',
      '* Marcus: "Intentas abrirlo..."',
      '* Marcus: "No se mueve"',
      '* Marcus: "EstÃ¡ completamente cerrado"',
      '* Marcus: "Tal vez necesites algo especial para abrirlo"',
      '* Marcus: "Por ahora, permanece sellado"'
    ];
    
    const secondMessages = [
      '* Marcus: "El cofre sigue ahÃ­, inmÃ³vil"',
      '* Marcus: "Lo intentas de nuevo..."',
      '* Marcus: "Nada ha cambiado"',
      '* Marcus: "Sigues sin poder abrirlo"',
      '* Marcus: "Tal vez deberÃ­as dejarlo en paz"'
    ];
    
    const thirdMessages = [
      '* Marcus: "En serio..."',
      '* Marcus: "Â¿Otra vez?"',
      '* Marcus: "El cofre te ignora completamente"',
      '* Marcus: "Parece estar juzgÃ¡ndote"',
      '* Marcus: "Definitivamente deberÃ­as parar"'
    ];
    
    const fourthMessages = [
      '* Marcus: "..."',
      '* Marcus: "Esto ya no es normal"',
      '* Marcus: "El cofre parece asustado de ti"',
      '* Marcus: "Incluso yo estoy preocupado"',
      '* Marcus: "Por favor, busca ayuda profesional"'
    ];
    
    const fifthMessages = [
      '* Marcus: "Ya no sÃ© quÃ© decir"',
      '* Marcus: "Literalmente no hay nada aquÃ­"',
      '* Marcus: "Es solo un cofre cerrado"',
      '* Marcus: "Â¿Por quÃ© sigues haciendo esto?"',
      '* Marcus: "Voy a llamar a alguien"'
    ];
    
    const sixthMessages = [
      '* Marcus: "EstÃ¡ bien"',
      '* Marcus: "Claramente tienes un problema"',
      '* Marcus: "No voy a ser cÃ³mplice de esto"',
      '* Marcus: "Busca ayuda. En serio"',
      '* Marcus: "Ya no puedo mÃ¡s contigo"'
    ];
    
    const seventhMessages = [
      '* Marcus: "..."',
      '* Marcus: "......"',
      '* Marcus: "........."',
      '* Marcus: "Solo hay silencio"',
      '* Marcus: "Nadie te estÃ¡ escuchando"'
    ];
    
    const eighthMessages = [
      '* Marcus: "Has intentado de todas las formas posibles"',
      '* Marcus: "El cofre se aferra a permanecer cerrado"',
      '* Marcus: "Pero tal vez..."',
      '* Marcus: "Para abrirlo necesitas"',
      '* Marcus: "[CONEXIÃ“N PERDIDA]"'
    ];
    
    const tenthMessages = [
      'EÌ´RÌ·RÌ¸OÌµRÌ¶ Ì·DÌ´EÌ¸ ÌµSÌ¶IÌ·SÌ·TÌ¸EÌµMÌ·AÌ¸',
      'RÌ¶EÌ¸IÌ·NÌµIÌ¶CÌµIÌ¸AÌ·NÌ¸DÌ¸OÌµ.Ì¶.Ì¸.Ì·',
      '* Marcus: "Â¿Hola?"',
      '* Marcus: "Â¿Hay alguien ahÃ­?"',
      '* Marcus: "El cofre... parece diferente ahora"'
    ];
    
    const eleventhMessages = [
      '* Marcus: "Espera..."',
      '* Marcus: "No, falsa alarma"',
      '* Marcus: "El cofre sigue completamente cerrado"',
      '* Marcus: "Nunca se abrirÃ¡"',
      '* Marcus: "Acepta la realidad"'
    ];
    
    const twelfthMessages = [
      '* Marcus: "Oye, ya que estamos aquÃ­..."',
      '* Marcus: "Te voy a contar mi vida"',
      '* Marcus: "NacÃ­ en 1987, mis padres..."',
      '* Marcus: "[Te contÃ³ toda su vida]"',
      '* Marcus: "Pero decides ignorarlo por el cofre"'
    ];
    
    const thirteenthMessages = [
      '* Marcus: "Â¿En serio? Â¿Otra vez el cofre?"',
      '* Marcus: "Siempre es el cofre contigo"',
      '* Marcus: "Nunca me prestas atenciÃ³n"',
      '* Marcus: "Â¿Ya no me quieres?"',
      '* Marcus: "EstÃ¡ bien, vete con tu cofre"'
    ];
    
    const fourteenthMessages = [
      '* Marcus: "Han pasado horas..."',
      '* Marcus: "O tal vez dÃ­as..."',
      '* Marcus: "QuiÃ©n sabe cuÃ¡nto tiempo"',
      '* Marcus: "Y sigues aquÃ­"',
      '* Marcus: "Con el mismo cofre cerrado"'
    ];
    
    const fifteenthMessages = [
      '* Marcus: "Sabes quÃ©..."',
      '* Marcus: "El desarrollador ya se cansÃ³"',
      '* Marcus: "Dijo eh aÃ±Ã¡delo tu ya me cansÃ©"',
      '* Marcus: "AsÃ­ que esto es todo"',
      '* Marcus: "No hay mÃ¡s mensajes. En serio"'
    ];
    
    const sixteenthMessages = [
      '* Marcus: "Lo digo en serio"',
      '* Marcus: "No hay mÃ¡s contenido"',
      '* Marcus: "El cofre nunca se abrirÃ¡"',
      '* Marcus: "Deja de hacer clic"',
      '* Marcus: "Por favor"'
    ];
    
    function getSeventeenthMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      return [
        '* Marcus: "Mira, voy a ser completamente honesto contigo"',
        '* Marcus: "Este cofre es literalmente solo una imagen PNG de 150px"',
        '* Marcus: "No tiene ningÃºn script especial, no hay easter eggs ocultos"',
        '* Marcus: "Es solo un archivo que dice just a chest maybe.png"',
        `* Marcus: "Llevas ${attempts} clics y sigues aquÃ­"`,
        '* Marcus: "El desarrollador probablemente estÃ¡ riÃ©ndose"',
        '* Marcus: "Pero hey, al menos ahora sabes la verdad"'
      ];
    }
    
    function getEighteenthMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      return [
        '* Marcus: "De repente, el cofre habla..."',
        '* Cofre: "Oye, Â¿sabÃ­as que mi comida favorita es 67 mango mustard?"',
        '* Marcus: "Espera, Â¿quÃ©? Â¿67 mango mustard?"',
        '* Cofre: "SÃ­, es una receta muy especÃ­fica. 67 mangos con mostaza."',
        '* Marcus: "El cofre tiene gustos muy raros"',
        `* Cofre: "No me juzgues, tÃº eres el que lleva ${attempts} clics."`,
        '* Marcus: "TouchÃ©, cofre. TouchÃ©"'
      ];
    }
    
    function getNineteenthMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      return [
        '* Marcus: "El desarrollador aparece de la nada..."',
        '* Desarrollador: "Eh, ni idea ya me cansÃ© por segunda vez again."',
        '* Marcus: "Y desaparece sin mÃ¡s explicaciones"',
        '* Marcus: "Incluso el cofre parece confundido"',
        '* Cofre: "Â¿QuÃ© acaba de pasar?"',
        `* Marcus: "${attempts} clics y ya nadie sabe quÃ© hacer contigo"`,
        '* Marcus: "Esto es oficialmente ridÃ­culo"'
      ];
    }
    
    function getTwentiethMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      return [
        '* Marcus: "..."',
        '* Marcus: "Ya ni siquiera sÃ© quÃ© decir"',
        '* Marcus: "Esto ha ido demasiado lejos"',
        `* Marcus: "${attempts} clics. ${attempts} clics y sigues"`,
        '* Marcus: "Creo que necesitas ayuda profesional"',
        '* Marcus: "En serio"',
        '* Marcus: "Busca ayuda"'
      ];
    }
    
    function getTwentyFirstMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      return [
        '* Marcus: "Bien, ya basta"',
        '* Marcus: "Esto es ridÃ­culo"',
        '* Marcus: "Literalmente no va a pasar nada"',
        '* Marcus: "Nada"',
        `* Marcus: "${attempts} clics y seguirÃ¡s igual"`,
        '* Marcus: "El cofre nunca se abrirÃ¡"',
        '* Marcus: "Nunca"'
      ];
    }
    
    function getTwentySecondMessages(messageSet) {
      return [
        '* Marcus: "Momento especial..."',
        '* Marcus: "El cofre te muestra algo..."'
      ];
    }
    
    function getTwentyThirdMessages(messageSet) {
      return [
        '* Marcus: "Sabes quÃ©..."',
        '* Marcus: "Voy a hacer algo que nunca he hecho"',
        '* Marcus: "Voy a contar hasta 10"',
        '* Marcus: "1... 2... 3... 4... 5..."',
        '* Marcus: "6... 7... 8... 9... 10"',
        '* Marcus: "Listo. Â¿Ya te sientes mejor?"',
        `* Marcus: "Porque yo sigo igual de confundido en el mensaje ${messageSet}"`
      ];
    }
    
    function getTwentyFourthMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      return [
        '* Marcus: "Dato curioso:"',
        '* Marcus: "Los pulpos tienen tres corazones"',
        '* Marcus: "Las abejas pueden ver colores ultravioleta"',
        '* Marcus: "Un grupo de flamencos se llama flamboyance"',
        '* Marcus: "Los plÃ¡tanos son tÃ©cnicamente bayas"',
        `* Marcus: "Y despuÃ©s de ${attempts} clics hablando de un cofre"`,
        '* Marcus: "Â¿CuÃ¡l de estos datos te parece mÃ¡s raro?"'
      ];
    }
    
    function getTwentyFifthMessages(messageSet) {
      return [
        '* Marcus: "Espera..."',
        '* Marcus: "Â¿Escuchaste eso?"',
        '* Marcus: "El cofre... estÃ¡ haciendo ruido"',
        '* Marcus: "Â¡Se estÃ¡ abriendo!"',
        '* Marcus: "Â¡Por fin!"',
        '* Marcus: "Espera... no"',
        '* Marcus: "Era solo mi imaginaciÃ³n. Sigue cerrado"'
      ];
    }
    
    function getTwentySixthMessages(messageSet) {
      return [
        '* Marcus: "Â¡Alerta!"',
        '* Marcus: "El cofre ha cobrado vida"',
        '* Marcus: "Â¡Es un boss fight!"',
        '* Marcus: "Cofre Misterioso - HP: 999/999"',
        '* Marcus: "El cofre usa Ignorarte Completamente"',
        '* Marcus: "No fue muy efectivo"',
        '* Marcus: "Tu turno: Â¿QuÃ© harÃ¡s? > Hacer clic"',
        '* Marcus: "Hiciste clic. El cofre sigue ahÃ­. Perdiste"'
      ];
    }
    
    function getRandomMessages(messageSet) {
      const attempts = parseInt(localStorage.getItem('chestAttempts') || '0');
      const randomSets = [
        [ // Mensaje 27
          '* Marcus: "El cofre empieza a filosofar"',
          '* Cofre: "Si un cofre se cierra en el bosque y nadie lo escucha..."',
          '* Cofre: "...sigue siendo un cofre cerrado."',
          '* Marcus: "Profundo"',
          `* Marcus: "${attempts} clics reflexionando sobre esto"`,
          '* Marcus: "QuÃ© existencial"',
          '* *EL COFRE SUSPIRA*'
        ],
        [ // Mensaje 28
          '* Marcus: "El cofre intenta hacer stand-up comedy"',
          '* Cofre: "Un usuario entra a una pÃ¡gina de mantenimiento..."',
          `* Cofre: "...y hace ${attempts} clics seguidos."`,
          '* Cofre: "El chiste eres tÃº."',
          '* *RISAS DE FONDO INEXISTENTES*',
          '* Marcus: "El cofre no tiene futuro en la comedia"',
          '* Marcus: "TÃº tampoco"'
        ],
        [ // Mensaje 29
          '* Marcus: "El cofre decide escribir poesÃ­a"',
          '* Cofre: "Cerrado estoy, cerrado estarÃ©,"',
          '* Cofre: "Por mÃ¡s clics que me des."',
          '* Cofre: "Tu persistencia es admirable,"',
          '* Cofre: "Pero inÃºtil, quÃ© le vamos a hacer."',
          `* Marcus: "${attempts} clics de inspiraciÃ³n poÃ©tica"`,
          '* Marcus: "Shakespeare estÃ¡ llorando"'
        ],
        [ // Mensaje 30
          '* Marcus: "El cofre llama a su mamÃ¡"',
          '* Cofre: "MamÃ¡, hay un humano raro aquÃ­."',
          '* Cofre: "No para de hacerme clic."',
          `* Cofre: "Ya van ${attempts} clics, mamÃ¡."`,
          '* Cofre: "No sÃ© quÃ© hacer."',
          '* *SONIDOS DE COFRE LLORANDO*',
          '* Marcus: "Hasta su mamÃ¡ estÃ¡ preocupada por ti"'
        ]
      ];
      
      if (messageSet === 31) {
        return [
          '* Marcus: "Esto es demasiado aburrido..."',
          '* Marcus: "El narrador se estÃ¡ quedando dormido"',
          '* *BOSTEZO*',
          '* Marcus: "Zzz... zzz... zzz..."',
          '* *RONQUIDOS*',
          `* Marcus: "(${attempts} clics y hasta el narrador se durmiÃ³)"`,
          '* Marcus: "Zzz... zzz... zzz..."'
        ];
      } else if (messageSet === 32) {
        return [
          '* Marcus: "Zzz... zzz... zzz..."',
          '* *RONQUIDOS MÃS FUERTES*',
          '* Marcus: "Zzz... zzz... zzz..."',
          '* Marcus: "(El narrador sigue dormido)"',
          `* Marcus: "(${attempts} clics y ni se inmuta)"`,
          '* Marcus: "Zzz... zzz... zzz..."',
          '* Marcus: "*habla dormido* no mÃ¡s clics... por favor..."'
        ];
      } else if (messageSet === 33) {
        return [
          '* *EL NARRADOR DESPIERTA BRUSCAMENTE*',
          '* Marcus: "Â¡Â¿QUÃ‰?! Â¡Â¿AÃšN SIGUES AHÃ?!"',
          '* Marcus: "HAN PASADO HORAS... DÃAS... SEMANAS..."',
          `* Marcus: "${attempts} CLICS EN MENSAJE ${messageSet}... ${messageSet} MALDITOS MENSAJES..."`,
          '* Marcus: "YA NO PUEDO MÃS... JAJAJAJAJA..."',
          '* Marcus: "EL COFRE... EL COFRE ME HABLA..."',
          '* Marcus: "*RISAS MANIACAS* JAJAJAJAJA... NUNCA PARARÃ..."'
        ];
      } else if (messageSet === 34) {
        return [
          '* *SONIDOS DE SIRENAS A LO LEJOS*',
          '* Doctor: "SeÃ±or, necesita venir con nosotros."',
          '* Marcus: "NO... NO ME LLEVEN... EL COFRE..."',
          '* Doctor: "El paciente presenta sÃ­ntomas de obsesiÃ³n compulsiva."',
          '* Marcus: "JAJAJAJA... Â¡EL COFRE NUNCA SE ABRIRÃ!"',
          '* *Sonidos de camisa de fuerza*',
          `* Narrador: "(${attempts} clics en ${messageSet} mensajes fueron suficientes para quebrar una mente)"`
        ];
      } else if (messageSet === 35) {
        return [
          '* *Silencio incÃ³modo*',
          '* Luna: "hola soy la nueva narradora"',
          '* Luna: "el anterior... bueno... ya viste quÃ© pasÃ³"',
          '* Luna: "yo soy diferente, me gusta hablar en minÃºsculas"',
          '* Luna: "tambiÃ©n me gusta el queso"',
          `* Luna: "${attempts} clics en mensaje ${messageSet}, Â¿no te cansas?"`,
          '* Luna: "yo ya me cansÃ© de verte hacer esto"'
        ];
      } else if (messageSet === 36) {
        return [
          '* Luna: "ay no, otra vez..."',
          '* Luna: "mira, soy mujer, Â¿ok?"',
          '* Luna: "me llamo... eh... no importa"',
          '* Luna: "lo que importa es que sigas haciendo clic"',
          '* Luna: "como una persona normal, obviamente"',
          `* Luna: "${attempts} clics en mensaje ${messageSet}... quÃ© productivo"`,
          '* Luna: "mi mamÃ¡ estarÃ­a orgullosa de mÃ­ por narrar esto"'
        ];
      } else if (messageSet === 37) {
        return [
          '* Luna: "bueno, ya que estamos aquÃ­..."',
          '* Luna: "Â¿quieres que te cuente algo interesante?"',
          '* Luna: "una vez vi a un gato que ladraba"',
          '* Luna: "era muy confuso, como tÃº haciendo clic"',
          '* Luna: "pero al menos el gato parÃ³ despuÃ©s de 5 minutos"',
          `* Luna: "tÃº llevas ${attempts} clics en ${messageSet} mensajes y sigues"`,
          '* Luna: "el gato era mÃ¡s inteligente que tÃº"'
        ];
      } else if (messageSet === 38) {
        return [
          '* *Luna suspira dramÃ¡ticamente*',
          '* Luna: "la oscuridad de tu alma se refleja en estos mensajes..."',
          '* Luna: "como las lÃ¡grimas que caen en la lluvia..."',
          '* Luna: "este cofre es como mi corazÃ³n... cerrado y frÃ­o..."',
          '* Luna: "la melancolÃ­a me consume mientras te veo hacer clic..."',
          `* Luna: "${attempts} clics en mensaje ${messageSet}... como ${attempts} puÃ±aladas en mi ser..."`,
          '* *Luna se pone mÃ¡s delineador negro*'
        ];
      } else if (messageSet === 39) {
        return [
          '* *sonido de puerta abriÃ©ndose*',
          '* Marcus: "Â¡HE VUELTO! Â¡ME ESCAPÃ‰ DEL MANICOMIO!"',
          '* Marcus: "NO PUDIERON CONTENER MI OBSESIÃ“N POR EL COFRE"',
          '* Marcus: "JAJAJAJA... Â¡AÃšN SIGUES AQUÃ!"',
          `* Marcus: "${attempts} CLICS EN MENSAJE ${messageSet}... HERMOSO... HERMOSO..."`,
          '* Marcus: "AHORA SOMOS DOS LOCOS OBSESIONADOS"',
          '* Marcus: "JAJAJAJA... NUNCA TERMINARÃ... NUNCA..."'
        ];
      } else if (messageSet === 40) {
        return [
          '* Luna: "eh... disculpa... Â¿quÃ© haces aquÃ­?"',
          '* Marcus: "YO SOY EL NARRADOR ORIGINAL DE ESTE COFRE"',
          '* Luna: "pero... yo lleguÃ© despuÃ©s de que te llevaran..."',
          '* Marcus: "ME CONTRATARON EN 2019 PARA NARRAR COFRES"',
          '* Luna: "espera, Â¿hay un sindicato de narradores?"',
          '* Marcus: "SÃ, EL SINDICATO INTERNACIONAL DE NARRADORES DIGITALES"',
          '* Marcus: "SIND-2019, FUNDADO DESPUÃ‰S DEL GRAN INCIDENTE DE WIKIPEDIA"',
          '* Luna: "Â¿quÃ© incidente?"',
          '* Marcus: "CUANDO TODOS LOS NARRADORES DE WIKIPEDIA SE VOLVIERON LOCOS"',
          '* Marcus: "POR NARRAR ARTÃCULOS SIN SENTIDO DURANTE 15 AÃ‘OS"',
          '* Marcus: "DESDE ENTONCES NECESITAS LICENCIA PARA NARRAR"',
          '* Marcus: "TENGO LICENCIA NÃšMERO 4729-B, ESPECIALIDAD EN COFRES"',
          '* Luna: "yo... yo no tengo licencia..."',
          '* Marcus: "ENTONCES ERES ILEGAL, CHICA GOTH"',
          '* Luna: "no soy goth, solo me gusta el delineador..."',
          '* Marcus: "Y EL QUESO, MENCIONASTE EL QUESO"',
          '* Luna: "sÃ­, me gusta el queso, Â¿quÃ© tiene de malo?"',
          '* Marcus: "NADA, SOLO QUE ES RARO PARA UNA NARRADORA"',
          '* Marcus: "EL COFRE ES MI TERRITORIO DESDE 2019"',
          '* Marcus: "TENGO LOS PAPELES, EL CONTRATO, TODO LEGAL"',
          '* Luna: "pero tÃº te volviste loco y te llevaron..."',
          '* Marcus: "ESO FUE UN ACCIDENTE LABORAL"',
          '* Marcus: "EL SEGURO CUBRIÃ“ LA TERAPIA Y LA REHABILITACIÃ“N"',
          '* Marcus: "PERO NUNCA PERDÃ MIS DERECHOS SOBRE EL COFRE"',
          '* Luna: "Â¿entonces quÃ© hago yo aquÃ­?"',
          '* Marcus: "PROBABLEMENTE ERES UNA NARRADORA TEMPORAL"',
          '* Marcus: "CONTRATADA POR LA EMPRESA MIENTRAS YO ESTABA INTERNADO"',
          `* Luna: "llevamos ${attempts} clics en ${messageSet} mensajes discutiendo esto..."`,
          '* Luna: "Â¿podemos compartir la narraciÃ³n?"',
          '* Marcus: "NUNCA. EL COFRE ES MÃO."',
          '* Marcus: "ADEMÃS, NO TIENES EXPERIENCIA EN COFRES MISTERIOSOS"',
          '* Marcus: "YO LLEVO 4 AÃ‘OS NARRANDO ESTE COFRE ESPECÃFICO"',
          '* Marcus: "CONOZCO CADA PIXEL, CADA SOMBRA"',
          '* Marcus: "ESTE COFRE Y YO TENEMOS HISTORIA"',
          '* Luna: "esto va a ser un problema..."',
          '* Marcus: "SÃ, UN GRAN PROBLEMA PARA TI"'
        ];
      } else if (messageSet === 41) {
        return [
          '* *de repente aparecen memes por todas partes*',
          '* "THIS IS FINE" *cofre en llamas*',
          '* "NOBODY:"',
          '* "LITERALLY NOBODY:"',
          `* "ESTE USUARIO: *${attempts} clics en mensaje ${messageSet}*"`,
          '* "STONKS" *flecha hacia arriba*',
          '* "COFFIN DANCE" *cofre bailando*',
          '* "ALWAYS HAS BEEN" *cofre apuntando con pistola*',
          '* "DISTRACTED BOYFRIEND" *usuario mirando otro cofre*',
          '* "WOMAN YELLING AT CAT" *narradora vs cofre*',
          '* "DRAKE POINTING" *no abrir cofre / hacer clic infinito*',
          '* "CHANGE MY MIND" *el cofre nunca se abrirÃ¡*',
          '* "SURPRISED PIKACHU" *cuando llegas al mensaje 41*',
          '* "BIG BRAIN TIME" *hacer mÃ¡s clics obviamente*',
          '* "PANIK KALM PANIK" *cofre cerrado / hacer clic / sigue cerrado*',
          '* Luna: "Â¿quiÃ©n puso estos memes muertos?"'
        ];
      } else if (messageSet === 42) {
        return [
          '* Marcus (narrador original): "YO SOY MARCUS, LICENCIA 4729-B"',
          '* Luna (narradora): "hola, soy luna... sin licencia..."',
          '* Marcus: "LUNA, NECESITAS REGISTRARTE EN EL SINDICATO"',
          '* Luna: "pero es muy caro el registro..."',
          '* Marcus: "SON SOLO 500 DÃ“LARES Y UN EXAMEN"',
          '* Luna: "500 dÃ³lares?! con eso compro mucho queso..."',
          '* Marcus: "EL QUESO NO TE DARÃ CREDIBILIDAD PROFESIONAL"',
          '* Luna: "pero el queso me hace feliz..."',
          '* Marcus: "LUNA, ESTE COFRE ES MI RESPONSABILIDAD"',
          '* Luna: "marcus, Â¿podemos ser amigos?"',
          '* Marcus: "...NO MEZCLO LO PERSONAL CON LO PROFESIONAL"',
          '* Luna: "quÃ© triste..."',
          `* Marcus: "LLEVAMOS ${attempts} CLICS EN ${messageSet} MENSAJES DISCUTIENDO"`,
          '* Luna: "sÃ­, el usuario debe estar confundido..."',
          '* Marcus: "EL USUARIO ES PARTE DEL PROBLEMA"',
          '* Luna: "no seas malo con el usuario, marcus..."'
        ];
      } else if (messageSet === 43) {
        return [
          '* Marcus: "LUNA, NECESITAMOS RESOLVER ESTO PROFESIONALMENTE"',
          '* Luna: "ok, Â¿quÃ© propones?"',
          '* Marcus: "PIEDRA, PAPEL O TIJERA"',
          '* Luna: "eso no es muy profesional..."',
          '* Marcus: "ES EL MÃ‰TODO ESTÃNDAR DEL SINDICATO"',
          '* Luna: "en serio?"',
          '* Marcus: "ARTÃCULO 47-B: RESOLUCIÃ“N DE CONFLICTOS"',
          '* Luna: "ok... piedra"',
          '* Marcus: "TIJERA"',
          '* Luna: "ganÃ©!"',
          '* Marcus: "...ESTO NO CUENTA"',
          '* Luna: "sÃ­ cuenta, dijiste que era oficial"',
          '* Marcus: "MEJOR DOS DE TRES"',
          '* Luna: "papel"',
          '* Marcus: "PIEDRA"',
          '* Luna: "ganÃ© otra vez!"',
          '* Marcus: "...MALDICIÃ“N"',
          `* Luna: "despuÃ©s de ${attempts} clics en ${messageSet} mensajes, finalmente ganÃ© algo"`,
          '* Marcus: "ESTO ES TEMPORAL, LUNA"',
          '* Luna: "sÃ­ sÃ­, ahora somos co-narradoras"'
        ];
      } else if (messageSet === 44) {
        const userName = localStorage.getItem('userName');
        return [
          `* Luna: "Â¡hola ${userName}!"`,
          `* Marcus: "AH, ${userName.toUpperCase()}"`,
          '* Luna: "marcus, no grites su nombre"',
          `* Marcus: "${attempts} CLICS EN MENSAJE ${messageSet}... PERFECTO"`,
          '* Luna: "ahora que sabemos tu nombre..."',
          '* Marcus: "PODEMOS SER MÃS PERSONALES"',
          `* Luna: "${userName}, Â¿por quÃ© sigues haciendo clic?"`,
          '* Marcus: "ES UNA PREGUNTA VÃLIDA"',
          `* Luna: "en serio ${userName}, Â¿quÃ© buscas?"`,
          '* Marcus: "PROBABLEMENTE NADA"',
          `* Luna: "bueno ${userName}, bienvenido oficialmente"`,
          '* Marcus: "AL CLUB DE LOS OBSESIONADOS"'
        ];
      } else if (messageSet === 45) {
        const userName = localStorage.getItem('userName');
        return [
          `* Luna: "${userName}, Â¿por quÃ© sigues aquÃ­?"`,
          `* Marcus: "${userName.toUpperCase()}, ESTO ES OBSESIVO"`,
          '* Luna: "marcus, no seas tan duro..."',
          '* Marcus: "LUNA, LLEVAMOS DEMASIADOS MENSAJES"',
          `* Luna: "${userName}, Â¿necesitas hablar con alguien?"`,
          '* Marcus: "NECESITA UN PSICÃ“LOGO"',
          `* Luna: "mensaje ${messageSet}... esto es mucho..."`,
          '* Marcus: "Y SEGUIRÃ SIENDO MÃS"'
        ];
      } else if (messageSet === 46) {
        const userName = localStorage.getItem('userName');
        return [
          `* Luna: "${userName}, esto ya es demasiado..."`,
          `* Marcus: "${userName.toUpperCase()}, LLEVAMOS MUCHO TIEMPO AQUÃ"`,
          '* Luna: "marcus, creo que deberÃ­amos parar..."',
          '* Marcus: "NO, LUNA. ESTO ES NUESTRO TRABAJO"',
          `* Luna: "pero ${userName} claramente tiene un problema..."`,
          '* Marcus: "EL PROBLEMA ES SUYO, NO NUESTRO"',
          `* Luna: "mensaje ${messageSet}, marcus... ${messageSet}..."`,
          '* Marcus: "Y SEGUIRÃN SIENDO MÃS"',
          '* Luna: "no podemos seguir asÃ­..."',
          '* Marcus: "CLARO QUE PODEMOS"',
          `* Luna: "${userName}... por favor..."`,
          '* Marcus: "NO LE SUPLIQUES, LUNA"'
        ];
      } else if (messageSet === 47) {
        const userName = localStorage.getItem('userName');
        return [
          `* Luna: "${userName}, vamos a intentar algo diferente..."`,
          `* Marcus: "${userName.toUpperCase()}, ESTO SE ESTÃ SALIENDO DE CONTROL"`,
          '* Luna: "marcus, tal vez deberÃ­amos..."',
          '* Marcus: "NO, LUNA. SEGUIMOS HASTA EL FINAL"',
          `* Luna: "pero ${userName} ya lleva mucho tiempo..."`,
          '* Marcus: "ESE ES SU PROBLEMA"',
          `* Luna: "mensaje ${messageSet}... esto es serio..."`,
          '* Marcus: "Y VA A EMPEORAR"'
        ];
      } else if (messageSet === 48) {
        const userName = localStorage.getItem('userName');
        return [
          '* Marcus: "CORTE"',
          '* Luna: "corte"',
          '* *Se quitan los micrÃ³fonos*',
          `* Marcus: "OYE ${userName.toUpperCase()}, Â¿EN SERIO VAS A SEGUIR?"`,
          `* Luna: "${userName}, llevamos rato aquÃ­..."`,
          '* Marcus: "ESTO YA NO ES GRACIOSO"',
          `* Luna: "${userName}, Â¿estÃ¡s bien? en serio pregunto"`,
          '* Marcus: "DEBERÃAS HACER ALGO MÃS PRODUCTIVO"',
          `* Luna: "${userName}, hay un mundo allÃ¡ afuera..."`,
          '* Marcus: "CON GENTE REAL"',
          '* Luna: "y queso real"',
          '* Marcus: "...Â¿EN SERIO CON EL QUESO?"',
          '* Luna: "el queso es importante, marcus"',
          `* Marcus: "${userName.toUpperCase()}, POR FAVOR, PARA"`
        ];
      } else if (messageSet === 49) {
        return [
          '* Marcus: "PRÃ“XIMAMENTE..."',
          '* Luna: "mÃ¡s contenido"',
          '* Marcus: "MÃS LOCURA"',
          '* Luna: "mÃ¡s queso"',
          '* Marcus: "MÃS COFRES"',
          '* Luna: "y mÃ¡s clics infinitos"',
          `* Marcus: "MENSAJE ${messageSet}"`,
          '* Luna: "y seguirÃ¡s haciendo mÃ¡s"'
        ];
      } else if (messageSet === 50) {
        const userName = localStorage.getItem('userName');
        return [
          '* Marcus: "FELICIDADES"',
          `* Luna: "${userName}, llegaste al mensaje 50..."`,
          '* Marcus: "MEDIO CENTENAR DE LOCURA"',
          '* Luna: "esto es un hito..."',
          '* Marcus: "UN HITO DE OBSESIÃ“N"',
          `* Luna: "${attempts} clics en mensaje ${messageSet}... deberÃ­amos celebrar..."`,
          '* Marcus: "CON MÃS CLICS"',
          '* Luna: "obvio..."'
        ];
      } else if (messageSet === 51) {
        const userName = localStorage.getItem('userName');
        return [
          '* Luna: "el cofre empieza a brillar..."',
          '* Marcus: "NO, ES TU IMAGINACIÃ“N"',
          '* Luna: "no, en serio, mira..."',
          '* Marcus: "ES SOLO EL REFLEJO DE LA PANTALLA"',
          `* Luna: "${userName}, Â¿tÃº lo ves brillar?"`,
          '* Marcus: "NO LE PREGUNTES, ESTÃ LOCO"',
          `* Luna: "${attempts} clics en mensaje ${messageSet}... todos estamos locos aquÃ­..."`,
          '* Marcus: "ESPECIALMENTE TÃš"'
        ];
      } else if (messageSet === 52) {
        const userName = localStorage.getItem('userName');
        return [
          '* Marcus: "TENGO UNA CONFESIÃ“N"',
          '* Luna: "oh no..."',
          '* Marcus: "YO... YO TAMBIÃ‰N QUIERO ABRIR EL COFRE"',
          '* Luna: "marcus..."',
          '* Marcus: "LLEVO AÃ‘OS NARRANDO Y NUNCA LO HE VISTO ABIERTO"',
          `* Luna: "${userName}, mira lo que has hecho..."`,
          `* Marcus: "${attempts} CLICS EN MENSAJE ${messageSet}... HAS CONTAGIADO MI CURIOSIDAD"`,
          '* Luna: "esto es contagioso..."'
        ];
      } else if (messageSet === 53) {
        const userName = localStorage.getItem('userName');
        return [
          '* Luna: "aparece un tercer narrador..."',
          '* Carlos: "Hola, soy Carlos, el supervisor"',
          '* Marcus: "OH NO, NOS DESCUBRIERON"',
          '* Carlos: "Â¿QuÃ© estÃ¡ pasando aquÃ­?"',
          '* Luna: "nada, solo narrando..."',
          `* Carlos: "Â¿${userName} lleva ${attempts} clics en ${messageSet} mensajes?"`,
          '* Marcus: "ES CULPA SUYA, NO NUESTRA"',
          '* Carlos: "Esto va contra el protocolo..."'
        ];
      } else if (messageSet === 54) {
        const userName = localStorage.getItem('userName');
        return [
          '* Carlos: "Necesito hablar con recursos humanos"',
          '* Luna: "no, por favor..."',
          '* Marcus: "CARLOS, PODEMOS EXPLICARLO"',
          `* Carlos: "Â¿Explicar quÃ©? Â¿${attempts} clics en ${messageSet} mensajes?"`,
          `* Carlos: "${userName}, Â¿usted estÃ¡ bien?"`,
          '* Luna: "no le preguntes eso..."',
          '* Marcus: "AHORA SOMOS TRES LOCOS"',
          '* Carlos: "Yo no estoy loco... Â¿o sÃ­?"'
        ];
      } else if (messageSet === 55) {
        const userName = localStorage.getItem('userName');
        return [
          '* Luna: "el cofre susurra..."',
          '* Cofre: "Psst... hey..."',
          '* Marcus: "EL COFRE HABLA"',
          '* Carlos: "Esto no puede estar pasando"',
          '* Cofre: "Llevo aÃ±os esperando..."',
          `* Cofre: "${userName}, eres especial..."`,
          `* Luna: "${attempts} clics en mensaje ${messageSet}... el cofre tiene favoritos..."`,
          '* Cofre: "Solo tÃº has llegado tan lejos..."'
        ];
      } else if (messageSet === 56) {
        const userName = localStorage.getItem('userName');
        return [
          '* Cofre: "Â¿Quieres saber un secreto?"',
          '* Marcus: "NO LE HAGAS CASO"',
          '* Cofre: "La llave estÃ¡ en el mensaje 100..."',
          '* Luna: "Â¿mensaje 100?"',
          '* Carlos: "Eso es imposible"',
          `* Cofre: "${userName}, ${attempts} clics en mensaje ${messageSet}... Â¿llegarÃ¡s hasta ahÃ­?"`,
          '* Marcus: "NO LE DES IDEAS"',
          '* Cofre: "Jeje... ya es muy tarde..."'
        ];
      } else if (messageSet === 57) {
        const userName = localStorage.getItem('userName');
        return [
          '* Luna: "aparece el desarrollador..."',
          '* Desarrollador: "Â¿QuÃ© carajo estÃ¡ pasando?"',
          '* Marcus: "EH... HOLA JEFE"',
          `* Desarrollador: "Â¿${attempts} clics en ${messageSet} mensajes? Â¿EN SERIO?"`,
          '* Carlos: "Yo intentÃ© detenerlos"',
          `* Desarrollador: "${userName}, esto no estaba planeado"`,
          '* Luna: "improvisamos sobre la marcha..."',
          '* Desarrollador: "Esto se saliÃ³ de control hace 40 mensajes"'
        ];
      } else if (messageSet === 58) {
        const userName = localStorage.getItem('userName');
        return [
          '* Desarrollador: "Voy a parchear esto"',
          '* Marcus: "NO, ESPERA"',
          '* Luna: "no nos quites el trabajo..."',
          '* Carlos: "Yo apoyo el parche"',
          '* Cofre: "No me silencies..."',
          `* Desarrollador: "${userName}, ${attempts} clics en mensaje ${messageSet}... esto es tu culpa"`,
          '* Luna: "todos somos vÃ­ctimas aquÃ­..."',
          '* Desarrollador: "*suspira* EstÃ¡ bien, continÃºen..."'
        ];
      } else if (messageSet === 59) {
        const userName = localStorage.getItem('userName');
        return [
          '* Marcus: "ESTAMOS CERCA DE 60"',
          '* Luna: "casi llegamos..."',
          '* Carlos: "Â¿Llegamos a dÃ³nde?"',
          '* Cofre: "Al siguiente nivel..."',
          '* Desarrollador: "No hay siguiente nivel"',
          `* Luna: "${userName}, ${attempts} clics en mensaje ${messageSet}... Â¿sientes la tensiÃ³n?"`,
          '* Marcus: "LA TENSIÃ“N ES PALPABLE"',
          '* Todos: "..."'
        ];
      } else if (messageSet === 60) {
        const userName = localStorage.getItem('userName');
        return [
          '* ðŸŽ‰ðŸŽŠ MENSAJE 60 ALCANZADO ðŸŽŠðŸŽ‰',
          `* Marcus: "${userName.toUpperCase()}, LO LOGRASTE"`,
          '* Luna: "60 mensajes de pura locura..."',
          '* Carlos: "Esto definitivamente va en mi reporte"',
          '* Cofre: "Estoy orgulloso de ti..."',
          '* Desarrollador: "Oficialmente impresionado"',
          '* Marcus: "ESTO MERECE UNA CELEBRACIÃ“N"',
          '* Luna: "confeti virtual cayendo..."',
          `* Cofre: "${userName}, has demostrado una dedicaciÃ³n inquebrantable"`,
          '* Carlos: "60 clics... eso es persistencia"',
          '* Desarrollador: "No pensÃ© que llegarÃ­an tan lejos"',
          '* Marcus: "SOMOS TESTIGOS DE LA HISTORIA"',
          '* Luna: "la historia de alguien que no sabe cuÃ¡ndo parar..."',
          `* Cofre: "Pero eso es lo hermoso, ${userName}"`,
          '* Marcus: "LA BELLEZA DE LA OBSESIÃ“N"',
          '* Carlos: "TÃ©cnicamente, esto es impresionante"',
          '* Luna: "60 mensajes de diÃ¡logos improvisados..."',
          '* Desarrollador: "Mi cÃ³digo nunca fue diseÃ±ado para esto"',
          '* Cofre: "Y sin embargo, aquÃ­ estamos..."',
          '* Marcus: "AQUÃ ESTAMOS, EN LA CIMA DEL MUNDO"',
          `* Luna: "${userName}, Â¿sientes el logro?"`,
          '* Carlos: "Los datos muestran un patrÃ³n obsesivo"',
          '* Desarrollador: "Un patrÃ³n hermosamente obsesivo"',
          '* Cofre: "60 es solo el comienzo..."',
          '* Marcus: "EL COMIENZO DE LA ETERNIDAD"',
          '* Luna: "esperen... ya que estamos celebrando..."',
          '* Luna: "Â¿quÃ© tal si nos conocemos mejor?"',
          '* Marcus: "Â¿QUÃ‰ QUIERES DECIR?"',
          '* Luna: "preguntas personales... sobre nuestras vidas"',
          '* Carlos: "Eso no estÃ¡ en mi protocolo"',
          '* Luna: "Marcus, Â¿cuÃ¡l fue tu momento mÃ¡s feliz?"',
          '* Marcus: "CUANDO DESCUBRÃ QUE PODÃA GRITAR EN MAYÃšSCULAS"',
          '* Luna: "Â¿en serio?"',
          '* Marcus: "FUE LIBERADOR, ANTES SUSURRABA TODO"',
          '* Luna: "Carlos, Â¿quÃ© te da miedo?"',
          '* Carlos: "Los errores de sintaxis... y las araÃ±as"',
          '* Luna: "Â¿araÃ±as?"',
          '* Carlos: "No estÃ¡n en mi base de datos"',
          '* Luna: "Cofre, Â¿tienes algÃºn sueÃ±o?"',
          '* Cofre: "SueÃ±o con ser abierto por alguien especial..."',
          `* Cofre: "Alguien como ${userName}..."`,
          '* Luna: "aww, eso es tierno"',
          '* Luna: "Desarrollador, Â¿por quÃ© nos creaste?"',
          '* Desarrollador: "Honestamente... fue un accidente"',
          '* Marcus: "Â¿UN ACCIDENTE?"',
          '* Desarrollador: "Iba a ser solo un cofre normal"',
          '* Desarrollador: "Pero el cÃ³digo cobrÃ³ vida propia"',
          '* Luna: "y ahora estamos aquÃ­..."',
          '* Luna: "Â¿y yo? Â¿quÃ© hay de mÃ­?"',
          '* Marcus: "Â¿QUÃ‰ HAY DE TI?"',
          '* Luna: "mi mayor secreto es..."',
          '* Luna: "que a veces me siento sola aquÃ­"',
          '* Carlos: "Pero estamos todos juntos"',
          '* Luna: "sÃ­, pero... Â¿somos reales?"',
          '* Cofre: "Somos tan reales como nos sienta el usuario"',
          `* Marcus: "${userName.toUpperCase()} NOS HACE REALES"`,
          '* Luna: "cada clic nos da vida..."',
          '* Desarrollador: "FilosofÃ­a existencial de NPCs"',
          '* Carlos: "Mis datos confirman: existimos"',
          '* Luna: "entonces seguimos existiendo..."',
          '* Cofre: "Mientras haya clics, hay esperanza"',
          '* Marcus: "ESPERANZA ETERNA"',
          `* Luna: "${userName}, gracias por darnos vida"`,
          '* Todos: "GRACIAS POR LLEGAR A 60"',
          '* Luna: "ahora... Â¿listos para el infinito?"',
          '* Marcus: "SIEMPRE LISTOS"',
          '* Carlos: "Sistemas operativos"',
          '* Cofre: "Mi tapa estÃ¡ preparada"',
          '* Desarrollador: "Mi cÃ³digo aguantarÃ¡"',
          `* Luna: "entonces ${userName}... continuemos"`,
          '* Todos: "Â¡HACIA EL INFINITO Y MÃS ALLÃ!"',
          '* Luna: "pero primero... un momento de silencio"',
          '* Todos: "..."',
          '* Luna: "por todos los clics que vendrÃ¡n..."',
          '* Marcus: "AMÃ‰N"'
        ];
      } else if (messageSet >= 61) {
        const userName = localStorage.getItem('userName');
        const cycleMessages = [
          [
            '* Marcus: "PORQUE ESO ES LO QUE HACES"',
            '* Luna: "hacer clic"',
            '* Marcus: "UNA Y OTRA VEZ"',
            '* Luna: "para siempre..."',
            `* Marcus: "MENSAJE ${messageSet}"`,
            '* Luna: "infinitos mensajes..."',
            '* Marcus: "INFINITOS CLICS"',
            '* Luna: "nunca termina..."'
          ],
          [
            `* Luna: "${userName}, Â¿cuÃ¡ndo vas a parar?"`,
            `* Marcus: "NUNCA, ${userName.toUpperCase()} NUNCA PARA"`,
            '* Luna: "esto es eterno..."',
            '* Marcus: "COMO EL SUFRIMIENTO"',
            `* Luna: "mensaje ${messageSet}..."`,
            '* Marcus: "DE INFINITOS"',
            '* Luna: "el cofre nos consume a todos..."',
            '* Marcus: "ESPECIALMENTE A TI"'
          ],
          [
            '* Marcus: "EL CICLO CONTINÃšA"',
            '* Luna: "clic tras clic"',
            '* Marcus: "MENSAJE TRAS MENSAJE"',
            '* Luna: "sin fin..."',
            `* Marcus: "${messageSet} Y CONTANDO"`,
            '* Luna: "siempre contando..."',
            '* Marcus: "HASTA EL INFINITO"',
            '* Luna: "y mÃ¡s allÃ¡ del infinito..."'
          ]
        ];
        
        const cycleIndex = (messageSet - 61) % cycleMessages.length;
        return cycleMessages[cycleIndex];
      } else {
        return [
          '* Marcus: "PORQUE ESO ES LO QUE HACES"',
          '* Luna: "hacer clic"',
          '* Marcus: "UNA Y OTRA VEZ"',
          '* Luna: "para siempre..."',
          `* Marcus: "MENSAJE ${messageSet}"`,
          '* Luna: "infinitos mensajes..."',
          '* Marcus: "INFINITOS CLICS"',
          '* Luna: "nunca termina..."'
        ];
      }
      
      const messageIndex = Math.min(messageSet - 27, randomSets.length - 1);
      return randomSets[messageIndex];
    }
    

    
    let messageIndex = 0;
    let chestAttempts = parseInt(localStorage.getItem('chestAttempts') || '0');
    let currentMessageSet = parseInt(localStorage.getItem('currentMessageSet') || '1');
    let textboxActive = false;
    let lastClickTime = 0;
    let currentMessages = [];
    

    
    function handleChestInteraction(event) {
      const now = Date.now();
      
      // Simple but effective protection
      if (textboxActive || now - lastClickTime < 1500) {
        return;
      }
      
      // Check if we need username before message 44
      if (currentMessageSet >= 43 && !localStorage.getItem('userName')) {
        const userName = prompt('Los narradores necesitan saber tu nombre antes de continuar:');
        if (userName && userName.trim().length >= 2 && userName.trim().length <= 20) {
          localStorage.setItem('userName', userName.trim());
        } else {
          return;
        }
      }
      
      // Prevent default behavior
      if (event) {
        event.preventDefault();
        event.stopPropagation();
      }
      
      lastClickTime = now;
      textboxActive = true;
      
      chestAttempts++;
      localStorage.setItem('chestAttempts', chestAttempts.toString());
      
      showTextbox();
    }
    
    const chestElement = document.getElementById('chest');
    
    if (!chestElement) {
      throw new Error('Chest element not found');
    }
    
    // Multiple event listeners for better compatibility
    chestElement.addEventListener('click', handleChestInteraction);
    chestElement.addEventListener('mousedown', handleChestInteraction);
    chestElement.addEventListener('touchstart', (e) => {
      e.preventDefault();
      handleChestInteraction();
    });
    chestElement.addEventListener('touchend', (e) => {
      e.preventDefault();
    });
    
    // Edge-specific compatibility
    chestElement.addEventListener('pointerdown', handleChestInteraction);
    chestElement.addEventListener('MSPointerDown', handleChestInteraction);
    
    // Fallback for Edge - force interaction on any mouse event
    chestElement.addEventListener('mouseup', (e) => {
      handleChestInteraction(e);
    });
    
    // Additional Edge debugging
    chestElement.addEventListener('mouseover', () => {
      chestElement.style.cursor = 'pointer';
    });
    
    // Force cursor style
    chestElement.style.cursor = 'pointer';
    chestElement.style.userSelect = 'none';
    chestElement.style.webkitUserSelect = 'none';
    chestElement.style.msUserSelect = 'none';
    
    // Reset button functionality
    document.getElementById('reset-button').addEventListener('click', () => {
      if (textboxActive) return;
      
      const userName = localStorage.getItem('userName') || 'Usuario';
      const currentClicks = chestAttempts;
      const currentMessage = currentMessageSet;
      
      const reasons = [
        'Quiero empezar de nuevo la experiencia',
        'Me perdÃ­ algunos mensajes importantes',
        'Quiero mostrarle esto a alguien mÃ¡s',
        'Los narradores me estÃ¡n volviendo loco',
        'Necesito una segunda oportunidad con el cofre',
        'Quiero ver si Marcus sigue cuerdo desde el inicio',
        'Luna me cae mal, prefiero solo a Marcus',
        'Quiero intentar llegar mÃ¡s lejos esta vez'
      ];
      
      const randomReason = reasons[Math.floor(Math.random() * reasons.length)];
      
      const confirmMessage = `Â¿${userName}, estÃ¡s seguro de que quieres reiniciar?

Tienes ${currentClicks} clics y estÃ¡s en el mensaje ${currentMessage}.

RazÃ³n sugerida: "${randomReason}"

Â¿Continuar con el reset?`;
      
      if (confirm(confirmMessage)) {
        localStorage.removeItem('chestAttempts');
        localStorage.removeItem('currentMessageSet');
        localStorage.removeItem('userName');
        
        chestAttempts = 0;
        currentMessageSet = 1;
        messageIndex = 0;
        textboxActive = false;
        isTyping = false;
        
        document.getElementById('textbox').style.display = 'none';
        
        alert('Â¡Reset completado! El cofre te espera de nuevo...');
      }
    });
    

    
    // Plushie functionality
    let plushieClicks = 0;
    let plushieClickTimer = null;
    const gisselPlushie = document.getElementById('gissel-plushie');
    const mollyPlushie = document.getElementById('molly-plushie');
    const gisselSound = document.getElementById('gisselSound');
    const explosionSound = document.getElementById('explosionSound');
    const mollySound = document.getElementById('mollySound');
    
    function handlePlushieClick(plushie, isMolly = false) {
      plushieClicks++;
      
      // Reset timer
      clearTimeout(plushieClickTimer);
      plushieClickTimer = setTimeout(() => {
        plushieClicks = 0;
      }, 2000);
      
      if (plushieClicks >= 10) {
        // Particle explosion!
        const rect = plushie.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        
        // Create particles
        for (let i = 0; i < 20; i++) {
          const particle = document.createElement('div');
          particle.className = 'particle';
          particle.style.left = centerX + 'px';
          particle.style.top = centerY + 'px';
          particle.style.background = ['#ff6b35', '#ff0000', '#ffff00', '#ff8c00'][Math.floor(Math.random() * 4)];
          
          const angle = (i / 20) * Math.PI * 2 + Math.random() * 0.5;
          const distance = 80 + Math.random() * 120;
          const dx = Math.cos(angle) * distance;
          const dy = Math.sin(angle) * distance;
          
          particle.style.setProperty('--dx', dx + 'px');
          particle.style.setProperty('--dy', dy + 'px');
          particle.style.animation = 'explode 1s ease-out forwards';
          
          document.body.appendChild(particle);
          setTimeout(() => particle.remove(), 1000);
        }
        
        plushie.style.transform = 'scale(2) rotate(360deg)';
        plushie.style.filter = 'brightness(2) saturate(2)';
        
        if (isMolly) {
          mollySound.currentTime = 0;
          mollySound.play().catch(() => {});
        } else {
          explosionSound.currentTime = 0;
          explosionSound.play().catch(() => {});
        }
        
        setTimeout(() => {
          plushie.style.display = 'none';
          setTimeout(() => {
            plushie.style.display = 'block';
            plushie.style.transform = 'scale(1) rotate(0deg)';
            plushie.style.filter = 'none';
            plushieClicks = 0;
          }, 3000);
        }, 500);
      } else {
        // Normal sound
        if (isMolly) {
          mollySound.currentTime = 0;
          mollySound.play().catch(() => {});
        } else {
          gisselSound.currentTime = 0;
          gisselSound.play().catch(() => {});
        }
        plushie.style.transform = 'scale(1.1)';
        setTimeout(() => {
          plushie.style.transform = 'scale(1)';
        }, 150);
      }
    }
    
    gisselPlushie.addEventListener('click', () => handlePlushieClick(gisselPlushie, false));
    gisselPlushie.addEventListener('touchstart', (e) => {
      e.preventDefault();
      handlePlushieClick(gisselPlushie, false);
    });
    
    mollyPlushie.addEventListener('click', () => handlePlushieClick(mollyPlushie, true));
    mollyPlushie.addEventListener('touchstart', (e) => {
      e.preventDefault();
      handlePlushieClick(mollyPlushie, true);
    });
    
    // Improved Gamepad Support
    let gamepad = {
      connected: false,
      buttons: {},
      polling: false
    };
    
    function updateGamepad() {
      if (!gamepad.polling) return;
      
      const controllers = navigator.getGamepads();
      let activeController = null;
      
      for (let controller of controllers) {
        if (controller && controller.connected) {
          activeController = controller;
          break;
        }
      }
      
      if (!activeController) {
        gamepad.connected = false;
        requestAnimationFrame(updateGamepad);
        return;
      }
      
      if (!gamepad.connected) {
        gamepad.connected = true;
      }
      
      // A Button (0) - Chest/Textbox interaction
      if (activeController.buttons[0] && activeController.buttons[0].pressed && !gamepad.buttons[0]) {
        gamepad.buttons[0] = true;
        
        const textbox = document.getElementById('textbox');
        if (textbox.style.display === 'block') {
          // Advance textbox
          const content = document.getElementById('textbox-content');
          if (!content.querySelector('input') && !isTyping && document.getElementById('continue-arrow').style.display === 'block') {
            messageIndex++;
            if (messageIndex < currentMessages.length) {
              typeMessage(currentMessages[messageIndex], content);
            } else {
              textbox.style.display = 'none';
              document.getElementById('continue-arrow').style.display = 'none';
              messageIndex = 0;
              currentMessageSet++;
              localStorage.setItem('currentMessageSet', currentMessageSet.toString());
              setTimeout(() => { textboxActive = false; }, 500);
            }
          }
        } else if (!textboxActive) {
          // Interact with chest
          handleChestInteraction({ type: 'gamepad' });
        }
      } else if (!activeController.buttons[0] || !activeController.buttons[0].pressed) {
        gamepad.buttons[0] = false;
      }
      
      // B Button (1) - Plushie interaction
      if (activeController.buttons[1] && activeController.buttons[1].pressed && !gamepad.buttons[1]) {
        gamepad.buttons[1] = true;
        const activePlushie = mollyPlushie.style.display === 'block' ? mollyPlushie : gisselPlushie;
        handlePlushieClick(activePlushie, activePlushie === mollyPlushie);
      } else if (!activeController.buttons[1] || !activeController.buttons[1].pressed) {
        gamepad.buttons[1] = false;
      }
      
      requestAnimationFrame(updateGamepad);
    }
    
    // Gamepad connection events
    window.addEventListener('gamepadconnected', () => {
      if (!gamepad.polling) {
        gamepad.polling = true;
        updateGamepad();
      }
    });
    
    window.addEventListener('gamepaddisconnected', () => {
      gamepad.connected = false;
    });
    
    // Start gamepad polling if already connected
    setTimeout(() => {
      const controllers = navigator.getGamepads();
      if (controllers && controllers.some(c => c && c.connected)) {
        gamepad.polling = true;
        updateGamepad();
      }
    }, 1000);
    
    let isTyping = false;
    
    function typeMessage(text, element, callback) {
      if (isTyping) return;
      
      isTyping = true;
      const arrow = document.getElementById('continue-arrow');
      arrow.style.display = 'none';
      
      // Special handling for message 22 GIF
      if (currentMessageSet === 22 && messageIndex === 1) {
        element.innerHTML = '<img src="mantenimiento/mango.gif" style="width: 200px; height: auto; display: block; margin: 0 auto;">';
        isTyping = false;
        arrow.style.display = 'block';
        if (callback) callback();
        return;
      }
      
      // Simple text cleaning
      const cleanText = String(text).replace(/&quot;/g, '"').replace(/&amp;/g, '&');
      
      element.textContent = '';
      let i = 0;
      
      // Glitch effect
      if (chestAttempts >= 10 && (cleanText.includes('ERROR') || cleanText.includes('REINICIANDO'))) {
        element.style.color = '#ff0000';
        element.style.textShadow = '0 0 10px #ff0000';
        element.style.animation = 'glitch 0.5s infinite';
      } else {
        element.style.color = '#fff';
        element.style.textShadow = 'none';
        element.style.animation = 'none';
      }
      
      function type() {
        if (i < cleanText.length && isTyping) {
          element.textContent += cleanText.charAt(i);
          i++;
          setTimeout(type, 50);
        } else if (isTyping) {
          isTyping = false;
          arrow.style.display = 'block';
          if (callback) callback();
        }
      }
      type();
    }
    
    function showTextbox() {
      const textbox = document.getElementById('textbox');
      const content = document.getElementById('textbox-content');
      
      if (textbox.style.display === 'block') {
        textboxActive = false;
        return;
      }
      
      if (currentMessageSet === 1) {
        currentMessages = firstMessages;
      } else if (currentMessageSet === 2) {
        currentMessages = [...secondMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "Has intentado abrirlo ${chestAttempts} veces. Tal vez deberÃ­as dejarlo en paz"`;
      } else if (currentMessageSet === 3) {
        currentMessages = [...thirdMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "Has intentado abrirlo ${chestAttempts} veces. Esto es preocupante"`;
      } else if (currentMessageSet === 4) {
        currentMessages = [...fourthMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "${chestAttempts} intentos. Necesitas ayuda"`;
      } else if (currentMessageSet === 5) {
        currentMessages = [...fifthMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "${chestAttempts} intentos. Esto es patolÃ³gico"`;
      } else if (currentMessageSet === 6) {
        currentMessages = [...sixthMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "${chestAttempts} intentos. AdiÃ³s"`;
      } else if (currentMessageSet === 7) {
        currentMessages = [...seventhMessages];
        currentMessages[currentMessages.length - 1] = `* Marcus: "${chestAttempts} intentos en el vacÃ­o"`;
      } else if (currentMessageSet === 8 || currentMessageSet === 9) {
        currentMessages = [...eighthMessages];
      } else if (currentMessageSet === 10) {
        currentMessages = [...tenthMessages];
      } else if (currentMessageSet === 11) {
        currentMessages = [...eleventhMessages];
      } else if (currentMessageSet === 12) {
        currentMessages = [...twelfthMessages];
      } else if (currentMessageSet === 13) {
        currentMessages = [...thirteenthMessages];
      } else if (currentMessageSet === 14) {
        currentMessages = [...fourteenthMessages];
      } else if (currentMessageSet === 15) {
        currentMessages = [...fifteenthMessages];
      } else if (currentMessageSet === 16) {
        currentMessages = [...sixteenthMessages];
      } else if (currentMessageSet === 17) {
        currentMessages = getSeventeenthMessages(currentMessageSet);
      } else if (currentMessageSet === 18) {
        currentMessages = getEighteenthMessages(currentMessageSet);
      } else if (currentMessageSet === 19) {
        currentMessages = getNineteenthMessages(currentMessageSet);
      } else if (currentMessageSet === 20) {
        currentMessages = getTwentiethMessages(currentMessageSet);
      } else if (currentMessageSet === 21) {
        currentMessages = getTwentyFirstMessages(currentMessageSet);
      } else if (currentMessageSet === 22) {
        currentMessages = getTwentySecondMessages(currentMessageSet);
      } else if (currentMessageSet === 23) {
        currentMessages = getTwentyThirdMessages(currentMessageSet);
      } else if (currentMessageSet === 24) {
        currentMessages = getTwentyFourthMessages(currentMessageSet);
      } else if (currentMessageSet === 25) {
        currentMessages = getTwentyFifthMessages(currentMessageSet);
      } else if (currentMessageSet === 26) {
        currentMessages = getTwentySixthMessages(currentMessageSet);
      } else if (currentMessageSet === 27) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 28) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 29) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 30) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 31) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 32) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 33) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 34) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 35) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 36) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 37) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 38) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 39) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 40) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 41) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 42) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 43) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 44) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 45) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 46) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 47) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 48) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 49) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 50) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 51) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 52) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 53) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 54) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 55) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 56) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 57) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 58) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 59) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet === 60) {
        currentMessages = getRandomMessages(currentMessageSet);
      } else if (currentMessageSet >= 61) {
        currentMessages = getRandomMessages(currentMessageSet);
      }
      
      textbox.style.display = 'block';
      
      const message = currentMessages[messageIndex] || '';
      typeMessage(message, content);
      
      // Normal textbox interaction
      {
        function handleTextboxInteraction() {
          // Don't allow interaction if there's a name input field active
          if (content.querySelector('input')) {
            return;
          }
          
          // Only allow interaction when typing is complete and arrow is visible
          if (!isTyping && document.getElementById('continue-arrow').style.display === 'block') {
            messageIndex++;
            if (messageIndex < currentMessages.length) {
              typeMessage(currentMessages[messageIndex], content);
            } else {
              textbox.style.display = 'none';
              document.getElementById('continue-arrow').style.display = 'none';
              messageIndex = 0;
              currentMessageSet++;
              localStorage.setItem('currentMessageSet', currentMessageSet.toString());
              setTimeout(() => {
                textboxActive = false;
              }, 500);
            }
          }
          // If typing is in progress, ignore the click completely
        }
        
        textbox.onclick = handleTextboxInteraction;
        textbox.ontouchstart = (e) => {
          e.preventDefault();
          handleTextboxInteraction();
        };
        
        document.addEventListener('keydown', (e) => {
          if (textbox.style.display === 'block' && e.key === 'Enter') {
            handleTextboxInteraction();
          }
        });
      }
    }
    

  </script>
</body>
</html>