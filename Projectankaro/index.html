<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Ankaro - Multiplayer Horror Game</title>
    <link rel="icon" type="image/png" href="../public/assets/icons/ankush.png">
    
    <!-- Discord/Social Media Embeds -->
    <meta property="og:title" content="Project Ankaro - Multiplayer Horror Game">
    <meta property="og:description" content="ğŸ® Juego multijugador 3D de horror en desarrollo | Voz en tiempo real | MecÃ¡nicas de supervivencia | Soporte mÃ³vil/gamepad">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Project Ankaro">
    <meta name="theme-color" content="#ff0000">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- UI Overlay -->
    <div id="ui">
        <div class="title">PROJECT ANKARO</div>
        <div class="room-info">
            <div>Sala: <span id="roomCode">----</span></div>
            <div><span id="currentPlayers">0</span>/8 Jugadores</div>
        </div>
    </div>
    
    <div id="loadingScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999;">
        <div style="color: #ff0000; font-size: 48px; margin-bottom: 20px; text-shadow: 0 0 20px #ff0000;">PROJECT ANKARO</div>
        <div style="color: #fff; font-size: 20px; margin-bottom: 30px;">Cargando...</div>
        <div style="width: 300px; height: 20px; background: #222; border: 2px solid #ff0000; border-radius: 10px; overflow: hidden;">
            <div id="loadingBar" style="width: 0%; height: 100%; background: linear-gradient(90deg, #ff0000, #ff6666); transition: width 0.3s;"></div>
        </div>
        <div id="loadingText" style="color: #fff; margin-top: 20px; font-size: 14px;">Inicializando...</div>
    </div>
    
    <div id="status">Esperando jugadores...</div>
    
    <div id="controls">
        <input type="text" id="playerName" placeholder="Tu nombre" maxlength="15">
        <div style="display: flex; gap: 10px; margin-top: 10px;">
            <input type="text" id="roomCodeInput" placeholder="CÃ³digo de sala (opcional)" maxlength="6" style="flex: 1;">
            <button id="createRoomBtn" class="btn btn-create">Crear Sala</button>
        </div>
        <button id="joinBtn" class="btn btn-join">Unirse a Sala</button>
        <button id="startBtn" class="btn btn-start" disabled>Iniciar Juego</button>
    </div>
    
    <button id="micBtn" class="mic-btn" style="display: none;">
        <span id="micIcon">ğŸ¤</span>
    </button>
    
    <button id="fullscreenBtn" class="fullscreen-btn">
        <span id="fullscreenIcon">â›¶</span>
    </button>
    
    <!-- Game HUD -->
    <div id="gameHUD" style="display: none;">
        <div id="timer" style="position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.8); border: 2px solid #ff0000; padding: 15px 30px; color: #fff; font-size: 24px; z-index: 100; border-radius: 5px;">
            â±ï¸ <span id="timerText">0:00</span>
        </div>
        <div id="missionsPanel" style="position: fixed; top: 80px; right: 20px; background: rgba(0,0,0,0.9); border: 2px solid #8b0000; padding: 20px; width: 280px; color: #fff; z-index: 100; border-radius: 5px;">
            <h3 style="color: #ff4444; margin: 0 0 15px 0; font-size: 18px; text-align: center;">ğŸ“‹ MISIONES</h3>
            <div id="missionsList" style="font-size: 14px; line-height: 1.8;">
                <div class="mission">ğŸ”§ Herramientas: <span id="toolsCount">0</span>/6</div>
                <div class="mission">âš¡ Generadores: <span id="gensCount">0</span>/5</div>
                <div class="mission">ğŸ”‹ Fusibles: <span id="fusesCount">0</span>/3</div>
                <div class="mission">ğŸ”§ Palancas: <span id="leversCount">0</span>/2</div>
                <div class="mission">ğŸšª Escapar por la puerta</div>
            </div>
        </div>
    </div>
    
    <!-- Mobile Controls -->
    <div id="mobileControls" style="display: none;">
        <div id="joystick">
            <div id="stick"></div>
        </div>
        <button id="jumpBtnMobile">â¬†ï¸</button>
        <button id="sprintBtnMobile">ğŸƒ</button>
        <button id="flashlightBtnMobile">ğŸ”¦</button>
        <button id="hideBtnMobile">ğŸšª</button>
        <button id="specLeftBtn" style="display: none;">â—€</button>
        <button id="specRightBtn" style="display: none;">â–¶</button>
    </div>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- PeerJS for Voice -->
    <script src="https://cdn.jsdelivr.net/npm/peerjs@1.5.2/dist/peerjs.min.js"></script>
    
    <!-- Engine Core -->
    <script src="engine.js"></script>
    
    <!-- Platform Detection -->
    <script src="platform.js"></script>
    
    <!-- Game Modules -->
    <script src="supabase.js"></script>
    <script src="voice.js"></script>
    <script src="audio.js"></script>
    <script src="player.js"></script>
    <script src="lobby.js"></script>
    <script src="network.js"></script>
    <script src="gameplay.js"></script>
    <script src="game.js"></script>
    
    <!-- Init -->
    <script src="main.js"></script>
</body>
</html>
